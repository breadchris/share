<html><head><title>PixelWars</title><script src="https://unpkg.com/htmx.org@1.9.12"></script><script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/ws.js"></script></head><body><div hx-ext="ws" ws-connect="/game/move"><div hx-swap-oob="innerHTML" id="chat_room"><div style="position:absolute; left:401px; top:187px; width:4px; height:4px; background-color:hsl(0, 0%, 54%);" id="player-2e905dab-e736-4338-ab12-8745d1350bb9"></div><div id="player-4e1f9332-fb3a-4b19-9c33-86fe3cbfb366" style="position:absolute; left:96px; top:454px; width:7px; height:7px; background-color:hsl(0, 0%, 23%);"></div><div id="player-3556871d-159d-4a1d-88df-cbb00c09532f" style="position:absolute; left:101px; top:518px; width:10px; height:10px; background-color:hsl(0, 0%, 0%);"></div><div id="player-14fea9b4-ff4e-4691-a248-96de43b6ca25" style="position:absolute; left:209px; top:541px; width:7px; height:7px; background-color:hsl(0, 0%, 21%);"></div><div id="player-2fd3a7d8-5446-4249-b7ea-2fd8cc51f645" style="position:absolute; left:446px; top:408px; width:4px; height:4px; background-color:hsl(0, 0%, 55%);"></div><div id="player-b84c7d7a-7aa6-4dfa-9ba2-c8c3fd15261a" style="position:absolute; left:2px; top:218px; width:2px; height:2px; background-color:hsl(0, 0%, 72%);"></div><div id="player-b715198c-9fd8-4392-9abb-ecb3b14094b3" style="position:absolute; left:358px; top:202px; width:1px; height:1px; background-color:hsl(0, 0%, 90%);"></div><div id="player-1bf297cf-8886-4ded-95a9-09861d56978f" style="position:absolute; left:469px; top:348px; width:4px; height:4px; background-color:hsl(0, 0%, 53%);"></div><div id="player-4246f420-fbbd-43d1-8901-18f4e7a586d9" style="position:absolute; left:444px; top:595px; width:8px; height:8px; background-color:hsl(0, 0%, 12%);"></div><div id="player-72442322-7195-4769-afbe-20358c8a32b3" style="position:absolute; left:242px; top:187px; width:5px; height:5px; background-color:hsl(0, 0%, 41%);"></div></div><div><form id="form" ws-send="submit"><input value="left" readonly="" hidden="" name="chat_message" autocomplete="off" autofocus=""></input><input type="submit" value="Send" hidden="" id="leftButton"></input></form><form id="form" ws-send="submit"><input autofocus="" value="right" readonly="" hidden="" name="chat_message" autocomplete="off"></input><input type="submit" value="Send" hidden="" id="rightButton"></input></form><form id="form" ws-send="submit"><input autofocus="" value="up" readonly="" hidden="" name="chat_message" autocomplete="off"></input><input hidden="" id="upButton" type="submit" value="Send"></input></form><form id="form" ws-send="submit"><input value="down" readonly="" hidden="" name="chat_message" autocomplete="off" autofocus=""></input><input hidden="" id="downButton" type="submit" value="Send"></input></form><form id="form" ws-send="submit"><input hidden="" name="chat_message" autocomplete="off" autofocus="" value="attack" readonly=""></input><input hidden="" id="attackButton" type="submit" value="Send"></input></form><form id="form" ws-send="submit"><input value="special" readonly="" hidden="" name="chat_message" autocomplete="off" autofocus=""></input><input hidden="" id="specialButton" type="submit" value="Send"></input></form><form id="form" ws-send="submit"><input value="one" readonly="" hidden="" name="chat_message" autocomplete="off" autofocus=""></input><input hidden="" id="oneButton" type="submit" value="Send"></input></form><form ws-send="submit" id="form"><input hidden="" name="chat_message" autocomplete="off" autofocus="" value="two" readonly=""></input><input value="Send" hidden="" id="twoButton" type="submit"></input></form><form id="form" ws-send="submit"><input value="three" readonly="" hidden="" name="chat_message" autocomplete="off" autofocus=""></input><input type="submit" value="Send" hidden="" id="threeButton"></input></form></div></div><script>
		// Key state tracking
		var keysPressed = {};

		// Start moving when keys are pressed
		document.addEventListener('keydown', function(event) {
			var key = event.key;
			console.log('key pressed');
			if (['a', 'd', 'w', 's', 'n', 'm', '1', '2', '3'].includes(key)) {
				keysPressed[key] = true;
				console.log('key pressed');
				event.preventDefault(); // prevent default scrolling
			}
		});

		// Stop moving when keys are released
		document.addEventListener('keyup', function(event) {
			var key = event.key;
			if (['a', 'd', 'w', 's', 'n', 'm', '1', '2', '3'].includes(key)) {
				keysPressed[key] = false;
				event.preventDefault(); // prevent default scrolling
			}
		});
		
		// Movement function
		function movePlayer() {
			var directions = [];
			if (keysPressed['a']) {
	directions.push('left');
}
if (keysPressed['d']) {
	directions.push('right');
}
if (keysPressed['w']) {
	directions.push('up');
}
if (keysPressed['s']) {
	directions.push('down');
}
if (keysPressed['n']) {
	directions.push('attack');
}
if (keysPressed['m']) {
	directions.push('special');
}
if (keysPressed['1']) {
	directions.push('one');
}
if (keysPressed['2']) {
	directions.push('two');
}
if (keysPressed['3']) {
	directions.push('three');
}
			if (directions.length > 0) {
				if (directions.includes('left')) {
	document.getElementById('leftButton').click();
}
if (directions.includes('right')) {
	document.getElementById('rightButton').click();
}
if (directions.includes('up')) {
	document.getElementById('upButton').click();
}
if (directions.includes('down')) {
	document.getElementById('downButton').click();
}
if (directions.includes('attack')) {
	document.getElementById('attackButton').click();
}
if (directions.includes('special')) {
	document.getElementById('specialButton').click();
}
if (directions.includes('one')) {
	document.getElementById('oneButton').click();
}
if (directions.includes('two')) {
	document.getElementById('twoButton').click();
}
if (directions.includes('three')) {
	document.getElementById('threeButton').click();
}
			}
		}

		// Call movePlayer at regular intervals
		setInterval(movePlayer, 50);
		</script></body></html>