import{a as W,c as Lt,d as X,e as Mt,h as A,i as zt,r as I}from"./chunk-UBZCH4GT.js";import{a as P,b as N,d as St,h as z,i as F,j as S,k as _,l as M}from"./chunk-ZDXGVX4G.js";import{a as $}from"./chunk-HPXRA7CM.js";import{a as Z,b as It,c as Et,e as K,f as E,g as V,h as Rt,j as Pt}from"./chunk-O5GEFHHF.js";import"./chunk-54SQGEM3.js";import"./chunk-RFBBAUMM.js";var ie={tokenize:se,partial:!0},Ot={tokenize:fe,partial:!0},jt={tokenize:me,partial:!0},Ht={tokenize:he,partial:!0},le={tokenize:pe,partial:!0},_t={tokenize:ae,previous:Bt},vt={tokenize:ue,previous:Wt},L={tokenize:oe,previous:Nt},T={},Y={text:T},R=48;for(;R<123;)T[R]=L,R++,R===58?R=65:R===91&&(R=97);T[43]=L;T[45]=L;T[46]=L;T[95]=L;T[72]=[L,vt];T[104]=[L,vt];T[87]=[L,_t];T[119]=[L,_t];function oe(t,n,e){let i=this,l,o;return r;function r(u){return!Q(u)||!Nt.call(i,i.previous)||J(i.events)?e(u):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(u))}function a(u){return Q(u)?(t.consume(u),a):u===64?(t.consume(u),s):e(u)}function s(u){return u===46?t.check(le,p,h)(u):u===45||u===95||N(u)?(o=!0,t.consume(u),s):p(u)}function h(u){return t.consume(u),l=!0,s}function p(u){return o&&l&&P(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),n(u)):e(u)}}function ae(t,n,e){let i=this;return l;function l(r){return r!==87&&r!==119||!Bt.call(i,i.previous)||J(i.events)?e(r):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(ie,t.attempt(Ot,t.attempt(jt,o),e),e)(r))}function o(r){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),n(r)}}function ue(t,n,e){let i=this,l="",o=!1;return r;function r(u){return(u===72||u===104)&&Wt.call(i,i.previous)&&!J(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),l+=String.fromCodePoint(u),t.consume(u),a):e(u)}function a(u){if(P(u)&&l.length<5)return l+=String.fromCodePoint(u),t.consume(u),a;if(u===58){let c=l.toLowerCase();if(c==="http"||c==="https")return t.consume(u),s}return e(u)}function s(u){return u===47?(t.consume(u),o?h:(o=!0,s)):e(u)}function h(u){return u===null||St(u)||F(u)||M(u)||_(u)?e(u):t.attempt(Ot,t.attempt(jt,p),e)(u)}function p(u){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),n(u)}}function se(t,n,e){let i=0;return l;function l(r){return(r===87||r===119)&&i<3?(i++,t.consume(r),l):r===46&&i===3?(t.consume(r),o):e(r)}function o(r){return r===null?e(r):n(r)}}function fe(t,n,e){let i,l,o;return r;function r(h){return h===46||h===95?t.check(Ht,s,a)(h):h===null||F(h)||M(h)||h!==45&&_(h)?s(h):(o=!0,t.consume(h),r)}function a(h){return h===95?i=!0:(l=i,i=void 0),t.consume(h),r}function s(h){return l||i||!o?e(h):n(h)}}function me(t,n){let e=0,i=0;return l;function l(r){return r===40?(e++,t.consume(r),l):r===41&&i<e?o(r):r===33||r===34||r===38||r===39||r===41||r===42||r===44||r===46||r===58||r===59||r===60||r===63||r===93||r===95||r===126?t.check(Ht,n,o)(r):r===null||F(r)||M(r)?n(r):(t.consume(r),l)}function o(r){return r===41&&i++,t.consume(r),l}}function he(t,n,e){return i;function i(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),i):a===38?(t.consume(a),o):a===93?(t.consume(a),l):a===60||a===null||F(a)||M(a)?n(a):e(a)}function l(a){return a===null||a===40||a===91||F(a)||M(a)?n(a):i(a)}function o(a){return P(a)?r(a):e(a)}function r(a){return a===59?(t.consume(a),i):P(a)?(t.consume(a),r):e(a)}}function pe(t,n,e){return i;function i(o){return t.consume(o),l}function l(o){return N(o)?e(o):n(o)}}function Bt(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||F(t)}function Wt(t){return!P(t)}function Nt(t){return!(t===47||Q(t))}function Q(t){return t===43||t===45||t===46||t===95||N(t)}function J(t){let n=t.length,e=!1;for(;n--;){let i=t[n][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){e=!0;break}if(i._gfmAutolinkLiteralWalkedInto){e=!1;break}}return t.length>0&&!e&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),e}var ce={tokenize:de,partial:!0};function tt(){return{document:{91:{tokenize:we,continuation:{tokenize:xe},exit:ye}},text:{91:{tokenize:be},93:{add:"after",tokenize:ge,resolveTo:ke}}}}function ge(t,n,e){let i=this,l=i.events.length,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]),r;for(;l--;){let s=i.events[l][1];if(s.type==="labelImage"){r=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return a;function a(s){if(!r||!r._balanced)return e(s);let h=I(i.sliceSerialize({start:r.end,end:i.now()}));return h.codePointAt(0)!==94||!o.includes(h.slice(1))?e(s):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(s),t.exit("gfmFootnoteCallLabelMarker"),n(s))}}function ke(t,n){let e=t.length,i;for(;e--;)if(t[e][1].type==="labelImage"&&t[e][0]==="enter"){i=t[e][1];break}t[e+1][1].type="data",t[e+3][1].type="gfmFootnoteCallLabelMarker";let l={type:"gfmFootnoteCall",start:Object.assign({},t[e+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[e+3][1].end),end:Object.assign({},t[e+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;let r={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},s=[t[e+1],t[e+2],["enter",l,n],t[e+3],t[e+4],["enter",o,n],["exit",o,n],["enter",r,n],["enter",a,n],["exit",a,n],["exit",r,n],t[t.length-2],t[t.length-1],["exit",l,n]];return t.splice(e,t.length-e+1,...s),t}function be(t,n,e){let i=this,l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]),o=0,r;return a;function a(u){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),s}function s(u){return u!==94?e(u):(t.enter("gfmFootnoteCallMarker"),t.consume(u),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(u){if(o>999||u===93&&!r||u===null||u===91||F(u))return e(u);if(u===93){t.exit("chunkString");let c=t.exit("gfmFootnoteCallString");return l.includes(I(i.sliceSerialize(c)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),n):e(u)}return F(u)||(r=!0),o++,t.consume(u),u===92?p:h}function p(u){return u===91||u===92||u===93?(t.consume(u),o++,h):h(u)}}function we(t,n,e){let i=this,l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]),o,r=0,a;return s;function s(f){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(f){return f===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",p):e(f)}function p(f){if(r>999||f===93&&!a||f===null||f===91||F(f))return e(f);if(f===93){t.exit("chunkString");let b=t.exit("gfmFootnoteDefinitionLabelString");return o=I(i.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),c}return F(f)||(a=!0),r++,t.consume(f),f===92?u:p}function u(f){return f===91||f===92||f===93?(t.consume(f),r++,p):p(f)}function c(f){return f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l.includes(o)||l.push(o),A(t,k,"gfmFootnoteDefinitionWhitespace")):e(f)}function k(f){return n(f)}}function xe(t,n,e){return t.check(zt,n,t.attempt(ce,n,e))}function ye(t){t.exit("gfmFootnoteDefinition")}function de(t,n,e){let i=this;return A(t,l,"gfmFootnoteDefinitionIndent",5);function l(o){let r=i.events[i.events.length-1];return r&&r[1].type==="gfmFootnoteDefinitionIndent"&&r[2].sliceSerialize(r[1],!0).length===4?n(o):e(o)}}function et(t){let e=(t||{}).singleTilde,i={tokenize:o,resolveAll:l};return e==null&&(e=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function l(r,a){let s=-1;for(;++s<r.length;)if(r[s][0]==="enter"&&r[s][1].type==="strikethroughSequenceTemporary"&&r[s][1]._close){let h=s;for(;h--;)if(r[h][0]==="exit"&&r[h][1].type==="strikethroughSequenceTemporary"&&r[h][1]._open&&r[s][1].end.offset-r[s][1].start.offset===r[h][1].end.offset-r[h][1].start.offset){r[s][1].type="strikethroughSequence",r[h][1].type="strikethroughSequence";let p={type:"strikethrough",start:Object.assign({},r[h][1].start),end:Object.assign({},r[s][1].end)},u={type:"strikethroughText",start:Object.assign({},r[h][1].end),end:Object.assign({},r[s][1].start)},c=[["enter",p,a],["enter",r[h][1],a],["exit",r[h][1],a],["enter",u,a]],k=a.parser.constructs.insideSpan.null;k&&W(c,c.length,0,Mt(k,r.slice(h+1,s),a)),W(c,c.length,0,[["exit",u,a],["enter",r[s][1],a],["exit",r[s][1],a],["exit",p,a]]),W(r,h-1,s-h+3,c),s=h+c.length-2;break}}for(s=-1;++s<r.length;)r[s][1].type==="strikethroughSequenceTemporary"&&(r[s][1].type="data");return r}function o(r,a,s){let h=this.previous,p=this.events,u=0;return c;function c(f){return h===126&&p[p.length-1][1].type!=="characterEscape"?s(f):(r.enter("strikethroughSequenceTemporary"),k(f))}function k(f){let b=X(h);if(f===126)return u>1?s(f):(r.consume(f),u++,k);if(u<2&&!e)return s(f);let g=r.exit("strikethroughSequenceTemporary"),w=X(f);return g._open=!w||w===2&&!!b,g._close=!b||b===2&&!!w,a(f)}}}var U=class{constructor(){this.map=[]}add(n,e,i){Fe(this,n,e,i)}consume(n){if(this.map.sort((o,r)=>o[0]-r[0]),this.map.length===0)return;let e=this.map.length,i=[];for(;e>0;)e-=1,i.push(n.slice(this.map[e][0]+this.map[e][1])),i.push(this.map[e][2]),n.length=this.map[e][0];i.push([...n]),n.length=0;let l=i.pop();for(;l;)n.push(...l),l=i.pop();this.map.length=0}};function Fe(t,n,e,i){let l=0;if(!(e===0&&i.length===0)){for(;l<t.map.length;){if(t.map[l][0]===n){t.map[l][1]+=e,t.map[l][2].push(...i);return}l+=1}t.map.push([n,e,i])}}function Vt(t,n){let e=!1,i=[];for(;n<t.length;){let l=t[n];if(e){if(l[0]==="enter")l[1].type==="tableContent"&&i.push(t[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(t[n-1][1].type==="tableDelimiterMarker"){let o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(e=!0);n+=1}return i}var nt={flow:{null:{tokenize:Ce,resolveAll:De}}};function Ce(t,n,e){let i=this,l=0,o=0,r;return a;function a(m){let H=i.events.length-1;for(;H>-1;){let Tt=i.events[H][1].type;if(Tt==="lineEnding"||Tt==="linePrefix")H--;else break}let Dt=H>-1?i.events[H][1].type:null,At=Dt==="tableHead"||Dt==="tableRow"?v:s;return At===v&&i.parser.lazy[i.now().line]?e(m):At(m)}function s(m){return t.enter("tableHead"),t.enter("tableRow"),h(m)}function h(m){return m===124||(r=!0,o+=1),p(m)}function p(m){return m===null?e(m):z(m)?o>1?(o=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),k):e(m):S(m)?A(t,p,"whitespace")(m):(o+=1,r&&(r=!1,l+=1),m===124?(t.enter("tableCellDivider"),t.consume(m),t.exit("tableCellDivider"),r=!0,p):(t.enter("data"),u(m)))}function u(m){return m===null||m===124||F(m)?(t.exit("data"),p(m)):(t.consume(m),m===92?c:u)}function c(m){return m===92||m===124?(t.consume(m),u):u(m)}function k(m){return i.interrupt=!1,i.parser.lazy[i.now().line]?e(m):(t.enter("tableDelimiterRow"),r=!1,S(m)?A(t,f,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):f(m))}function f(m){return m===45||m===58?g(m):m===124?(r=!0,t.enter("tableCellDivider"),t.consume(m),t.exit("tableCellDivider"),b):D(m)}function b(m){return S(m)?A(t,g,"whitespace")(m):g(m)}function g(m){return m===58?(o+=1,r=!0,t.enter("tableDelimiterMarker"),t.consume(m),t.exit("tableDelimiterMarker"),w):m===45?(o+=1,w(m)):m===null||z(m)?d(m):D(m)}function w(m){return m===45?(t.enter("tableDelimiterFiller"),x(m)):D(m)}function x(m){return m===45?(t.consume(m),x):m===58?(r=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(m),t.exit("tableDelimiterMarker"),y):(t.exit("tableDelimiterFiller"),y(m))}function y(m){return S(m)?A(t,d,"whitespace")(m):d(m)}function d(m){return m===124?f(m):m===null||z(m)?!r||l!==o?D(m):(t.exit("tableDelimiterRow"),t.exit("tableHead"),n(m)):D(m)}function D(m){return e(m)}function v(m){return t.enter("tableRow"),C(m)}function C(m){return m===124?(t.enter("tableCellDivider"),t.consume(m),t.exit("tableCellDivider"),C):m===null||z(m)?(t.exit("tableRow"),n(m)):S(m)?A(t,C,"whitespace")(m):(t.enter("data"),B(m))}function B(m){return m===null||m===124||F(m)?(t.exit("data"),C(m)):(t.consume(m),m===92?re:B)}function re(m){return m===92||m===124?(t.consume(m),B):B(m)}}function De(t,n){let e=-1,i=!0,l=0,o=[0,0,0,0],r=[0,0,0,0],a=!1,s=0,h,p,u,c=new U;for(;++e<t.length;){let k=t[e],f=k[1];k[0]==="enter"?f.type==="tableHead"?(a=!1,s!==0&&(Ut(c,n,s,h,p),p=void 0,s=0),h={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},c.add(e,0,[["enter",h,n]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(i=!0,u=void 0,o=[0,0,0,0],r=[0,e+1,0,0],a&&(a=!1,p={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},c.add(e,0,[["enter",p,n]])),l=f.type==="tableDelimiterRow"?2:p?3:1):l&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")?(i=!1,r[2]===0&&(o[1]!==0&&(r[0]=r[1],u=q(c,n,o,l,void 0,u),o=[0,0,0,0]),r[2]=e)):f.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(r[0]=r[1],u=q(c,n,o,l,void 0,u)),o=r,r=[o[1],e,0,0])):f.type==="tableHead"?(a=!0,s=e):f.type==="tableRow"||f.type==="tableDelimiterRow"?(s=e,o[1]!==0?(r[0]=r[1],u=q(c,n,o,l,e,u)):r[1]!==0&&(u=q(c,n,r,l,e,u)),l=0):l&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(r[3]=e)}for(s!==0&&Ut(c,n,s,h,p),c.consume(n.events),e=-1;++e<n.events.length;){let k=n.events[e];k[0]==="enter"&&k[1].type==="table"&&(k[1]._align=Vt(n.events,e))}return t}function q(t,n,e,i,l,o){let r=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",a="tableContent";e[0]!==0&&(o.end=Object.assign({},O(n.events,e[0])),t.add(e[0],0,[["exit",o,n]]));let s=O(n.events,e[1]);if(o={type:r,start:Object.assign({},s),end:Object.assign({},s)},t.add(e[1],0,[["enter",o,n]]),e[2]!==0){let h=O(n.events,e[2]),p=O(n.events,e[3]),u={type:a,start:Object.assign({},h),end:Object.assign({},p)};if(t.add(e[2],0,[["enter",u,n]]),i!==2){let c=n.events[e[2]],k=n.events[e[3]];if(c[1].end=Object.assign({},k[1].end),c[1].type="chunkText",c[1].contentType="text",e[3]>e[2]+1){let f=e[2]+1,b=e[3]-e[2]-1;t.add(f,b,[])}}t.add(e[3]+1,0,[["exit",u,n]])}return l!==void 0&&(o.end=Object.assign({},O(n.events,l)),t.add(l,0,[["exit",o,n]]),o=void 0),o}function Ut(t,n,e,i,l){let o=[],r=O(n.events,e);l&&(l.end=Object.assign({},r),o.push(["exit",l,n])),i.end=Object.assign({},r),o.push(["exit",i,n]),t.add(e+1,0,o)}function O(t,n){let e=t[n],i=e[0]==="enter"?"start":"end";return e[1][i]}var Ae={tokenize:Te},rt={text:{91:Ae}};function Te(t,n,e){let i=this;return l;function l(s){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?e(s):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),o)}function o(s){return F(s)?(t.enter("taskListCheckValueUnchecked"),t.consume(s),t.exit("taskListCheckValueUnchecked"),r):s===88||s===120?(t.enter("taskListCheckValueChecked"),t.consume(s),t.exit("taskListCheckValueChecked"),r):e(s)}function r(s){return s===93?(t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):e(s)}function a(s){return z(s)?n(s):S(s)?t.check({tokenize:Le},n,e)(s):e(s)}}function Le(t,n,e){return A(t,i,"whitespace");function i(l){return l===null?e(l):n(l)}}function qt(t){return Lt([Y,tt(),et(t),nt,rt])}function it(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var j=function(t){if(t==null)return Ie;if(typeof t=="string")return ze(t);if(typeof t=="object")return Array.isArray(t)?Se(t):Me(t);if(typeof t=="function")return G(t);throw new Error("Expected function, string, or object as test")};function Se(t){let n=[],e=-1;for(;++e<t.length;)n[e]=j(t[e]);return G(i);function i(...l){let o=-1;for(;++o<n.length;)if(n[o].call(this,...l))return!0;return!1}}function Me(t){return G(n);function n(e){let i;for(i in t)if(e[i]!==t[i])return!1;return!0}}function ze(t){return G(n);function n(e){return e&&e.type===t}}function G(t){return n;function n(e,...i){return!!(e&&typeof e=="object"&&"type"in e&&t.call(this,e,...i))}}function Ie(){return!0}var Gt=!0,lt=!1,$t="skip",ot=function(t,n,e,i){typeof n=="function"&&typeof e!="function"&&(i=e,e=n,n=null);let l=j(n),o=i?-1:1;r(t,void 0,[])();function r(a,s,h){let p=a&&typeof a=="object"?a:{};if(typeof p.type=="string"){let c=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(u,"name",{value:"node ("+(a.type+(c?"<"+c+">":""))+")"})}return u;function u(){let c=[],k,f,b;if((!n||l(a,s,h[h.length-1]||null))&&(c=Ee(e(a,h)),c[0]===lt))return c;if(a.children&&c[0]!==$t)for(f=(i?a.children.length:-1)+o,b=h.concat(a);f>-1&&f<a.children.length;){if(k=r(a.children[f],f,b)(),k[0]===lt)return k;f=typeof k[1]=="number"?k[1]:f+o}return c}}};function Ee(t){return Array.isArray(t)?t:typeof t=="number"?[Gt,t]:[t]}var Re={}.hasOwnProperty,at=function(t,n,e,i){let l,o;typeof n=="string"||n instanceof RegExp?(o=[[n,e]],l=i):(o=n,l=e),l||(l={});let r=j(l.ignore||[]),a=Pe(o),s=-1;for(;++s<a.length;)ot(t,"text",h);return t;function h(u,c){let k=-1,f;for(;++k<c.length;){let b=c[k];if(r(b,f?f.children.indexOf(b):void 0,f))return;f=b}if(f)return p(u,c)}function p(u,c){let k=c[c.length-1],f=a[s][0],b=a[s][1],g=0,w=k.children.indexOf(u),x=!1,y=[];f.lastIndex=0;let d=f.exec(u.value);for(;d;){let D=d.index,v={index:d.index,input:d.input,stack:[...c,u]},C=b(...d,v);if(typeof C=="string"&&(C=C.length>0?{type:"text",value:C}:void 0),C!==!1&&(g!==D&&y.push({type:"text",value:u.value.slice(g,D)}),Array.isArray(C)?y.push(...C):C&&y.push(C),g=D+d[0].length,x=!0),!f.global)break;d=f.exec(u.value)}return x?(g<u.value.length&&y.push({type:"text",value:u.value.slice(g)}),k.children.splice(w,1,...y)):y=[u],w+y.length}};function Pe(t){let n=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let e=-1;for(;++e<t.length;)n.push([Xt(t[e][0]),Zt(t[e][1])])}else{let e;for(e in t)Re.call(t,e)&&n.push([Xt(e),Zt(t[e])])}return n}function Xt(t){return typeof t=="string"?new RegExp(it(t),"g"):t}function Zt(t){return typeof t=="function"?t:()=>t}var ut="phrasing",st=["autolink","link","image","label"],mt={transforms:[Be],enter:{literalAutolink:Oe,literalAutolinkEmail:ft,literalAutolinkHttp:ft,literalAutolinkWww:ft},exit:{literalAutolink:ve,literalAutolinkEmail:_e,literalAutolinkHttp:je,literalAutolinkWww:He}},ht={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ut,notInConstruct:st},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ut,notInConstruct:st},{character:":",before:"[ps]",after:"\\/",inConstruct:ut,notInConstruct:st}]};function Oe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function ft(t){this.config.enter.autolinkProtocol.call(this,t)}function je(t){this.config.exit.autolinkProtocol.call(this,t)}function He(t){this.config.exit.data.call(this,t);let n=this.stack[this.stack.length-1];n.url="http://"+this.sliceSerialize(t)}function _e(t){this.config.exit.autolinkEmail.call(this,t)}function ve(t){this.exit(t)}function Be(t){at(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,We],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Ne]],{ignore:["link","linkReference"]})}function We(t,n,e,i,l){let o="";if(!Kt(l)||(/^w/i.test(n)&&(e=n+e,n="",o="http://"),!Ve(e)))return!1;let r=Ue(e+i);if(!r[0])return!1;let a={type:"link",title:null,url:o+n+r[0],children:[{type:"text",value:n+r[0]}]};return r[1]?[a,{type:"text",value:r[1]}]:a}function Ne(t,n,e,i){return!Kt(i,!0)||/[-\d_]$/.test(e)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+e,children:[{type:"text",value:n+"@"+e}]}}function Ve(t){let n=t.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function Ue(t){let n=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!n)return[t,void 0];t=t.slice(0,n.index);let e=n[0],i=e.indexOf(")"),l=$(t,"("),o=$(t,")");for(;i!==-1&&l>o;)t+=e.slice(0,i+1),e=e.slice(i+1),i=e.indexOf(")"),o++;return[t,e]}function Kt(t,n){let e=t.input.charCodeAt(t.index-1);return(t.index===0||M(e)||_(e))&&(!n||e!==47)}Qt.peek=Je;function pt(){return{enter:{gfmFootnoteDefinition:qe,gfmFootnoteDefinitionLabelString:Ge,gfmFootnoteCall:Ze,gfmFootnoteCallString:Ke},exit:{gfmFootnoteDefinition:Xe,gfmFootnoteDefinitionLabelString:$e,gfmFootnoteCall:Ye,gfmFootnoteCallString:Qe}}}function ct(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:tn,footnoteReference:Qt}}}function qe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Ge(){this.buffer()}function $e(t){let n=this.resume(),e=this.stack[this.stack.length-1];e.label=n,e.identifier=I(this.sliceSerialize(t)).toLowerCase()}function Xe(t){this.exit(t)}function Ze(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Ke(){this.buffer()}function Qe(t){let n=this.resume(),e=this.stack[this.stack.length-1];e.label=n,e.identifier=I(this.sliceSerialize(t)).toLowerCase()}function Ye(t){this.exit(t)}function Qt(t,n,e,i){let l=E(i),o=l.move("[^"),r=e.enter("footnoteReference"),a=e.enter("reference");return o+=l.move(K(e,Z(t),{...l.current(),before:o,after:"]"})),a(),r(),o+=l.move("]"),o}function Je(){return"["}function tn(t,n,e,i){let l=E(i),o=l.move("[^"),r=e.enter("footnoteDefinition"),a=e.enter("label");return o+=l.move(K(e,Z(t),{...l.current(),before:o,after:"]"})),a(),o+=l.move("]:"+(t.children&&t.children.length>0?" ":"")),l.shift(4),o+=l.move(Et(It(t,e,l.current()),en)),r(),o}function en(t,n,e){return n===0?t:(e?"":"    ")+t}var nn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Yt.peek=on;var gt={canContainEols:["delete"],enter:{strikethrough:rn},exit:{strikethrough:ln}},kt={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:nn}],handlers:{delete:Yt}};function rn(t){this.enter({type:"delete",children:[]},t)}function ln(t){this.exit(t)}function Yt(t,n,e,i){let l=E(i),o=e.enter("strikethrough"),r=l.move("~~");return r+=V(t,e,{...l.current(),before:r,after:"~"}),r+=l.move("~~"),o(),r}function on(){return"~"}function te(t,n={}){let e=(n.align||[]).concat(),i=n.stringLength||un,l=[],o=[],r=[],a=[],s=0,h=-1;for(;++h<t.length;){let f=[],b=[],g=-1;for(t[h].length>s&&(s=t[h].length);++g<t[h].length;){let w=an(t[h][g]);if(n.alignDelimiters!==!1){let x=i(w);b[g]=x,(a[g]===void 0||x>a[g])&&(a[g]=x)}f.push(w)}o[h]=f,r[h]=b}let p=-1;if(typeof e=="object"&&"length"in e)for(;++p<s;)l[p]=Jt(e[p]);else{let f=Jt(e);for(;++p<s;)l[p]=f}p=-1;let u=[],c=[];for(;++p<s;){let f=l[p],b="",g="";f===99?(b=":",g=":"):f===108?b=":":f===114&&(g=":");let w=n.alignDelimiters===!1?1:Math.max(1,a[p]-b.length-g.length),x=b+"-".repeat(w)+g;n.alignDelimiters!==!1&&(w=b.length+w+g.length,w>a[p]&&(a[p]=w),c[p]=w),u[p]=x}o.splice(1,0,u),r.splice(1,0,c),h=-1;let k=[];for(;++h<o.length;){let f=o[h],b=r[h];p=-1;let g=[];for(;++p<s;){let w=f[p]||"",x="",y="";if(n.alignDelimiters!==!1){let d=a[p]-(b[p]||0),D=l[p];D===114?x=" ".repeat(d):D===99?d%2?(x=" ".repeat(d/2+.5),y=" ".repeat(d/2-.5)):(x=" ".repeat(d/2),y=x):y=" ".repeat(d)}n.delimiterStart!==!1&&!p&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||p)&&g.push(" "),n.alignDelimiters!==!1&&g.push(x),g.push(w),n.alignDelimiters!==!1&&g.push(y),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||p!==s-1)&&g.push("|")}k.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return k.join(`
`)}function an(t){return t==null?"":String(t)}function un(t){return t.length}function Jt(t){let n=typeof t=="string"?t.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}var wt={enter:{table:sn,tableData:ee,tableHeader:ee,tableRow:mn},exit:{codeText:hn,table:fn,tableData:bt,tableHeader:bt,tableRow:bt}};function sn(t){let n=t._align;this.enter({type:"table",align:n.map(e=>e==="none"?null:e),children:[]},t),this.setData("inTable",!0)}function fn(t){this.exit(t),this.setData("inTable")}function mn(t){this.enter({type:"tableRow",children:[]},t)}function bt(t){this.exit(t)}function ee(t){this.enter({type:"tableCell",children:[]},t)}function hn(t){let n=this.resume();this.getData("inTable")&&(n=n.replace(/\\([\\|])/g,pn));let e=this.stack[this.stack.length-1];e.value=n,this.exit(t)}function pn(t,n){return n==="|"?n:t}function xt(t){let n=t||{},e=n.tableCellPadding,i=n.tablePipeAlign,l=n.stringLength,o=e?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:r,tableRow:a,tableCell:s,inlineCode:c}};function r(k,f,b,g){return h(p(k,b,g),k.align)}function a(k,f,b,g){let w=u(k,b,g),x=h([w]);return x.slice(0,x.indexOf(`
`))}function s(k,f,b,g){let w=b.enter("tableCell"),x=b.enter("phrasing"),y=V(k,b,{...g,before:o,after:o});return x(),w(),y}function h(k,f){return te(k,{align:f,alignDelimiters:i,padding:e,stringLength:l})}function p(k,f,b){let g=k.children,w=-1,x=[],y=f.enter("table");for(;++w<g.length;)x[w]=u(g[w],f,b);return y(),x}function u(k,f,b){let g=k.children,w=-1,x=[],y=f.enter("tableRow");for(;++w<g.length;)x[w]=s(g[w],k,f,b);return y(),x}function c(k,f,b){let g=Rt(k,f,b);return b.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}var yt={exit:{taskListCheckValueChecked:ne,taskListCheckValueUnchecked:ne,paragraph:cn}},dt={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gn}};function ne(t){let n=this.stack[this.stack.length-2];n.checked=t.type==="taskListCheckValueChecked"}function cn(t){let n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){let e=this.stack[this.stack.length-1],i=e.children[0];if(i&&i.type==="text"){let l=n.children,o=-1,r;for(;++o<l.length;){let a=l[o];if(a.type==="paragraph"){r=a;break}}r===e&&(i.value=i.value.slice(1),i.value.length===0?e.children.shift():e.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,e.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function gn(t,n,e,i){let l=t.children[0],o=typeof t.checked=="boolean"&&l&&l.type==="paragraph",r="["+(t.checked?"x":" ")+"] ",a=E(i);o&&a.move(r);let s=Pt(t,n,e,{...i,...a.current()});return o&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),s;function h(p){return p+r}}function Ft(){return[mt,pt(),gt,wt,yt]}function Ct(t){return{extensions:[ht,ct(),kt,xt(t),dt]}}function kn(t={}){let n=this.data();e("micromarkExtensions",qt(t)),e("fromMarkdownExtensions",Ft()),e("toMarkdownExtensions",Ct(t));function e(i,l){(n[i]?n[i]:n[i]=[]).push(l)}}export{kn as default};
