import{a as B,b as A,c as mn,d as J,e as K,f as pn,g as sn,h as S,i as L,j as b,k as xn,l as hn}from"./chunk-ZDXGVX4G.js";import{a as kn}from"./chunk-54SQGEM3.js";function M(n,e,t,r){let l=n.length,o=0,a;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(e,t),n.splice(...a);else for(t&&n.splice(e,t);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),n.splice(...a),o+=1e4,e+=1e4}function T(n,e){return n.length>0?(M(n,n.length,0,e),n):e}var gn={}.hasOwnProperty;function Gt(n){let e={},t=-1;for(;++t<n.length;)wn(e,n[t]);return e}function wn(n,e){let t;for(t in e){let l=(gn.call(n,t)?n[t]:void 0)||(n[t]={}),o=e[t],a;if(o)for(a in o){gn.call(l,a)||(l[a]=[]);let p=o[a];Ln(l[a],Array.isArray(p)?p:p?[p]:[])}}}function Ln(n,e){let t=-1,r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);M(n,0,0,r)}function an(n){if(n===null||L(n)||hn(n))return 1;if(xn(n))return 2}function nn(n,e,t){let r=[],l=-1;for(;++l<n.length;){let o=n[l].resolveAll;o&&!r.includes(o)&&(e=o(e,t),r.push(o))}return e}function y(n,e,t,r){let l=r?r-1:Number.POSITIVE_INFINITY,o=0;return a;function a(g){return b(g)?(n.enter(t),p(g)):e(g)}function p(g){return b(g)&&o++<l?(n.consume(g),p):(n.exit(t),e(g))}}var G={tokenize:In,partial:!0};function In(n,e,t){return r;function r(o){return b(o)?y(n,l,"linePrefix")(o):l(o)}function l(o){return o===null||S(o)?e(o):t(o)}}function X(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Cn={name:"attention",tokenize:Fn,resolveAll:An};function An(n,e){let t=-1,r,l,o,a,p,g,x,h;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;g=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let k=Object.assign({},n[r][1].end),s=Object.assign({},n[t][1].start);cn(k,-g),cn(s,g),a={type:g>1?"strongSequence":"emphasisSequence",start:k,end:Object.assign({},n[r][1].end)},p={type:g>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:s},o={type:g>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},l={type:g>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},p.end)},n[r][1].end=Object.assign({},a.start),n[t][1].start=Object.assign({},p.end),x=[],n[r][1].end.offset-n[r][1].start.offset&&(x=T(x,[["enter",n[r][1],e],["exit",n[r][1],e]])),x=T(x,[["enter",l,e],["enter",a,e],["exit",a,e],["enter",o,e]]),x=T(x,nn(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),x=T(x,[["exit",o,e],["enter",p,e],["exit",p,e],["exit",l,e]]),n[t][1].end.offset-n[t][1].start.offset?(h=2,x=T(x,[["enter",n[t][1],e],["exit",n[t][1],e]])):h=0,M(n,r-1,t-r+3,x),t=r+x.length-h-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Fn(n,e){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,l=an(r),o;return a;function a(g){return o=g,n.enter("attentionSequence"),p(g)}function p(g){if(g===o)return n.consume(g),p;let x=n.exit("attentionSequence"),h=an(g),k=!h||h===2&&l||t.includes(g),s=!l||l===2&&h||t.includes(r);return x._open=!!(o===42?k:k&&(l||!s)),x._close=!!(o===42?s:s&&(h||!k)),e(g)}}function cn(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}var On={name:"autolink",tokenize:Bn};function Bn(n,e,t){let r=0;return l;function l(m){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(m){return B(m)?(n.consume(m),a):x(m)}function a(m){return m===43||m===45||m===46||A(m)?(r=1,p(m)):x(m)}function p(m){return m===58?(n.consume(m),r=0,g):(m===43||m===45||m===46||A(m))&&r++<32?(n.consume(m),p):(r=0,x(m))}function g(m){return m===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.exit("autolink"),e):m===null||m===32||m===60||J(m)?t(m):(n.consume(m),g)}function x(m){return m===64?(n.consume(m),h):mn(m)?(n.consume(m),x):t(m)}function h(m){return A(m)?k(m):t(m)}function k(m){return m===46?(n.consume(m),r=0,h):m===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(m),n.exit("autolinkMarker"),n.exit("autolink"),e):s(m)}function s(m){if((m===45||A(m))&&r++<63){let E=m===45?s:k;return n.consume(m),E}return t(m)}}var Sn={name:"blockQuote",tokenize:Tn,continuation:{tokenize:Pn},exit:Mn};function Tn(n,e,t){let r=this;return l;function l(a){if(a===62){let p=r.containerState;return p.open||(n.enter("blockQuote",{_container:!0}),p.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),o}return t(a)}function o(a){return b(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(a))}}function Pn(n,e,t){let r=this;return l;function l(a){return b(a)?y(n,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return n.attempt(Sn,e,t)(a)}}function Mn(n){n.exit("blockQuote")}var qn={name:"characterEscape",tokenize:Dn};function Dn(n,e,t){return r;function r(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),l}function l(o){return sn(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(o)}}var _n={name:"characterReference",tokenize:Rn};function Rn(n,e,t){let r=this,l=0,o,a;return p;function p(k){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(k),n.exit("characterReferenceMarker"),g}function g(k){return k===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(k),n.exit("characterReferenceMarkerNumeric"),x):(n.enter("characterReferenceValue"),o=31,a=A,h(k))}function x(k){return k===88||k===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(k),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,a=pn,h):(n.enter("characterReferenceValue"),o=7,a=K,h(k))}function h(k){if(k===59&&l){let s=n.exit("characterReferenceValue");return a===A&&!kn(r.sliceSerialize(s))?t(k):(n.enter("characterReferenceMarker"),n.consume(k),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return a(k)&&l++<o?(n.consume(k),h):t(k)}}var fn={tokenize:jn,partial:!0},Hn={name:"codeFenced",tokenize:Nn,concrete:!0};function Nn(n,e,t){let r=this,l={tokenize:Q,partial:!0},o=0,a=0,p;return g;function g(c){return x(c)}function x(c){let O=r.events[r.events.length-1];return o=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,p=c,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),h(c)}function h(c){return c===p?(a++,n.consume(c),h):a<3?t(c):(n.exit("codeFencedFenceSequence"),b(c)?y(n,k,"whitespace")(c):k(c))}function k(c){return c===null||S(c)?(n.exit("codeFencedFence"),r.interrupt?e(c):n.check(fn,w,N)(c)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),s(c))}function s(c){return c===null||S(c)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),k(c)):b(c)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),y(n,m,"whitespace")(c)):c===96&&c===p?t(c):(n.consume(c),s)}function m(c){return c===null||S(c)?k(c):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),E(c))}function E(c){return c===null||S(c)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),k(c)):c===96&&c===p?t(c):(n.consume(c),E)}function w(c){return n.attempt(l,N,C)(c)}function C(c){return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),f}function f(c){return o>0&&b(c)?y(n,F,"linePrefix",o+1)(c):F(c)}function F(c){return c===null||S(c)?n.check(fn,w,N)(c):(n.enter("codeFlowValue"),P(c))}function P(c){return c===null||S(c)?(n.exit("codeFlowValue"),F(c)):(n.consume(c),P)}function N(c){return n.exit("codeFenced"),e(c)}function Q(c,O,R){let q=0;return j;function j(z){return c.enter("lineEnding"),c.consume(z),c.exit("lineEnding"),V}function V(z){return c.enter("codeFencedFence"),b(z)?y(c,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):I(z)}function I(z){return z===p?(c.enter("codeFencedFenceSequence"),_(z)):R(z)}function _(z){return z===p?(q++,c.consume(z),_):q>=a?(c.exit("codeFencedFenceSequence"),b(z)?y(c,W,"whitespace")(z):W(z)):R(z)}function W(z){return z===null||S(z)?(c.exit("codeFencedFence"),O(z)):R(z)}}}function jn(n,e,t){let r=this;return l;function l(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}var Vn={name:"codeIndented",tokenize:Wn},Qn={tokenize:Un,partial:!0};function Wn(n,e,t){let r=this;return l;function l(x){return n.enter("codeIndented"),y(n,o,"linePrefix",5)(x)}function o(x){let h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(x):t(x)}function a(x){return x===null?g(x):S(x)?n.attempt(Qn,a,g)(x):(n.enter("codeFlowValue"),p(x))}function p(x){return x===null||S(x)?(n.exit("codeFlowValue"),a(x)):(n.consume(x),p)}function g(x){return n.exit("codeIndented"),e(x)}}function Un(n,e,t){let r=this;return l;function l(a){return r.parser.lazy[r.now().line]?t(a):S(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),l):y(n,o,"linePrefix",5)(a)}function o(a){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?e(a):S(a)?l(a):t(a)}}var Yn={name:"codeText",tokenize:Jn,resolve:$n,previous:Gn};function $n(n){let e=n.length-4,t=3,r,l;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)l===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(l=r):(r===e||n[r][1].type==="lineEnding")&&(n[l][1].type="codeTextData",r!==l+2&&(n[l][1].end=n[r-1][1].end,n.splice(l+2,r-l-2),e-=r-l-2,r=l+2),l=void 0);return n}function Gn(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Jn(n,e,t){let r=this,l=0,o,a;return p;function p(s){return n.enter("codeText"),n.enter("codeTextSequence"),g(s)}function g(s){return s===96?(n.consume(s),l++,g):(n.exit("codeTextSequence"),x(s))}function x(s){return s===null?t(s):s===32?(n.enter("space"),n.consume(s),n.exit("space"),x):s===96?(a=n.enter("codeTextSequence"),o=0,k(s)):S(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),x):(n.enter("codeTextData"),h(s))}function h(s){return s===null||s===32||s===96||S(s)?(n.exit("codeTextData"),x(s)):(n.consume(s),h)}function k(s){return s===96?(n.consume(s),o++,k):o===l?(n.exit("codeTextSequence"),n.exit("codeText"),e(s)):(a.type="codeTextData",h(s))}}function bn(n){let e={},t=-1,r,l,o,a,p,g,x;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(g=r[1]._tokenizer.events,o=0,o<g.length&&g[o][1].type==="lineEndingBlank"&&(o+=2),o<g.length&&g[o][1].type==="content"))for(;++o<g.length&&g[o][1].type!=="content";)g[o][1].type==="chunkText"&&(g[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Kn(n,t)),t=e[t],x=!0);else if(r[1]._container){for(o=t,l=void 0;o--&&(a=n[o],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(l&&(n[l][1].type="lineEndingBlank"),a[1].type="lineEnding",l=o);l&&(r[1].end=Object.assign({},n[l][1].start),p=n.slice(l,t),p.unshift(r),M(n,l,t-l+1,p))}}return!x}function Kn(n,e){let t=n[e][1],r=n[e][2],l=e-1,o=[],a=t._tokenizer||r.parser[t.contentType](t.start),p=a.events,g=[],x={},h,k,s=-1,m=t,E=0,w=0,C=[w];for(;m;){for(;n[++l][1]!==m;);o.push(l),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),k&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),k=m,m=m.next}for(m=t;++s<p.length;)p[s][0]==="exit"&&p[s-1][0]==="enter"&&p[s][1].type===p[s-1][1].type&&p[s][1].start.line!==p[s][1].end.line&&(w=s+1,C.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):C.pop(),s=C.length;s--;){let f=p.slice(C[s],C[s+1]),F=o.pop();g.unshift([F,F+f.length-1]),M(n,F,2,f)}for(s=-1;++s<g.length;)x[E+g[s][0]]=E+g[s][1],E+=g[s][1]-g[s][0]-1;return x}var Xn={tokenize:dn,resolve:vn},Zn={tokenize:nt,partial:!0};function vn(n){return bn(n),n}function dn(n,e){let t;return r;function r(p){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),l(p)}function l(p){return p===null?o(p):S(p)?n.check(Zn,a,o)(p):(n.consume(p),l)}function o(p){return n.exit("chunkContent"),n.exit("content"),e(p)}function a(p){return n.consume(p),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,l}}function nt(n,e,t){let r=this;return l;function l(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),y(n,o,"linePrefix")}function o(a){if(a===null||S(a))return t(a);let p=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?e(a):n.interrupt(r.parser.constructs.flow,t,e)(a)}}function tn(n,e,t,r,l,o,a,p,g){let x=g||Number.POSITIVE_INFINITY,h=0;return k;function k(f){return f===60?(n.enter(r),n.enter(l),n.enter(o),n.consume(f),n.exit(o),s):f===null||f===32||f===41||J(f)?t(f):(n.enter(r),n.enter(a),n.enter(p),n.enter("chunkString",{contentType:"string"}),w(f))}function s(f){return f===62?(n.enter(o),n.consume(f),n.exit(o),n.exit(l),n.exit(r),e):(n.enter(p),n.enter("chunkString",{contentType:"string"}),m(f))}function m(f){return f===62?(n.exit("chunkString"),n.exit(p),s(f)):f===null||f===60||S(f)?t(f):(n.consume(f),f===92?E:m)}function E(f){return f===60||f===62||f===92?(n.consume(f),m):m(f)}function w(f){return!h&&(f===null||f===41||L(f))?(n.exit("chunkString"),n.exit(p),n.exit(a),n.exit(r),e(f)):h<x&&f===40?(n.consume(f),h++,w):f===41?(n.consume(f),h--,w):f===null||f===32||f===40||J(f)?t(f):(n.consume(f),f===92?C:w)}function C(f){return f===40||f===41||f===92?(n.consume(f),w):w(f)}}function rn(n,e,t,r,l,o){let a=this,p=0,g;return x;function x(m){return n.enter(r),n.enter(l),n.consume(m),n.exit(l),n.enter(o),h}function h(m){return p>999||m===null||m===91||m===93&&!g||m===94&&!p&&"_hiddenFootnoteSupport"in a.parser.constructs?t(m):m===93?(n.exit(o),n.enter(l),n.consume(m),n.exit(l),n.exit(r),e):S(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),h):(n.enter("chunkString",{contentType:"string"}),k(m))}function k(m){return m===null||m===91||m===93||S(m)||p++>999?(n.exit("chunkString"),h(m)):(n.consume(m),g||(g=!b(m)),m===92?s:k)}function s(m){return m===91||m===92||m===93?(n.consume(m),p++,k):k(m)}}function en(n,e,t,r,l,o){let a;return p;function p(s){return s===34||s===39||s===40?(n.enter(r),n.enter(l),n.consume(s),n.exit(l),a=s===40?41:s,g):t(s)}function g(s){return s===a?(n.enter(l),n.consume(s),n.exit(l),n.exit(r),e):(n.enter(o),x(s))}function x(s){return s===a?(n.exit(o),g(a)):s===null?t(s):S(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),y(n,x,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),h(s))}function h(s){return s===a||s===null||S(s)?(n.exit("chunkString"),x(s)):(n.consume(s),s===92?k:h)}function k(s){return s===a||s===92?(n.consume(s),h):h(s)}}function $(n,e){let t;return r;function r(l){return S(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),t=!0,r):b(l)?y(n,r,t?"linePrefix":"lineSuffix")(l):e(l)}}var tt={name:"definition",tokenize:et},rt={tokenize:it,partial:!0};function et(n,e,t){let r=this,l;return o;function o(m){return n.enter("definition"),a(m)}function a(m){return rn.call(r,n,p,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function p(m){return l=X(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(n.enter("definitionMarker"),n.consume(m),n.exit("definitionMarker"),g):t(m)}function g(m){return L(m)?$(n,x)(m):x(m)}function x(m){return tn(n,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return n.attempt(rt,k,k)(m)}function k(m){return b(m)?y(n,s,"whitespace")(m):s(m)}function s(m){return m===null||S(m)?(n.exit("definition"),r.parser.defined.push(l),e(m)):t(m)}}function it(n,e,t){return r;function r(p){return L(p)?$(n,l)(p):t(p)}function l(p){return en(n,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function o(p){return b(p)?y(n,a,"whitespace")(p):a(p)}function a(p){return p===null||S(p)?e(p):t(p)}}var ut={name:"hardBreakEscape",tokenize:at};function at(n,e,t){return r;function r(o){return n.enter("hardBreakEscape"),n.consume(o),l}function l(o){return S(o)?(n.exit("hardBreakEscape"),e(o)):t(o)}}var lt={name:"headingAtx",tokenize:mt,resolve:ot};function ot(n,e){let t=n.length-2,r=3,l,o;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(l={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},o={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},M(n,r,t-r+1,[["enter",l,e],["enter",o,e],["exit",o,e],["exit",l,e]])),n}function mt(n,e,t){let r=0;return l;function l(h){return n.enter("atxHeading"),o(h)}function o(h){return n.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(n.consume(h),a):h===null||L(h)?(n.exit("atxHeadingSequence"),p(h)):t(h)}function p(h){return h===35?(n.enter("atxHeadingSequence"),g(h)):h===null||S(h)?(n.exit("atxHeading"),e(h)):b(h)?y(n,p,"whitespace")(h):(n.enter("atxHeadingText"),x(h))}function g(h){return h===35?(n.consume(h),g):(n.exit("atxHeadingSequence"),p(h))}function x(h){return h===null||h===35||L(h)?(n.exit("atxHeadingText"),p(h)):(n.consume(h),x)}}var yn=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ln=["pre","script","style","textarea"];var pt={name:"htmlFlow",tokenize:kt,resolveTo:ht,concrete:!0},st={tokenize:ct,partial:!0},xt={tokenize:gt,partial:!0};function ht(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function kt(n,e,t){let r=this,l,o,a,p,g;return x;function x(u){return h(u)}function h(u){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(u),k}function k(u){return u===33?(n.consume(u),s):u===47?(n.consume(u),o=!0,w):u===63?(n.consume(u),l=3,r.interrupt?e:i):B(u)?(n.consume(u),a=String.fromCharCode(u),C):t(u)}function s(u){return u===45?(n.consume(u),l=2,m):u===91?(n.consume(u),l=5,p=0,E):B(u)?(n.consume(u),l=4,r.interrupt?e:i):t(u)}function m(u){return u===45?(n.consume(u),r.interrupt?e:i):t(u)}function E(u){let Y="CDATA[";return u===Y.charCodeAt(p++)?(n.consume(u),p===Y.length?r.interrupt?e:I:E):t(u)}function w(u){return B(u)?(n.consume(u),a=String.fromCharCode(u),C):t(u)}function C(u){if(u===null||u===47||u===62||L(u)){let Y=u===47,En=a.toLowerCase();return!Y&&!o&&ln.includes(En)?(l=1,r.interrupt?e(u):I(u)):yn.includes(a.toLowerCase())?(l=6,Y?(n.consume(u),f):r.interrupt?e(u):I(u)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(u):o?F(u):P(u))}return u===45||A(u)?(n.consume(u),a+=String.fromCharCode(u),C):t(u)}function f(u){return u===62?(n.consume(u),r.interrupt?e:I):t(u)}function F(u){return b(u)?(n.consume(u),F):j(u)}function P(u){return u===47?(n.consume(u),j):u===58||u===95||B(u)?(n.consume(u),N):b(u)?(n.consume(u),P):j(u)}function N(u){return u===45||u===46||u===58||u===95||A(u)?(n.consume(u),N):Q(u)}function Q(u){return u===61?(n.consume(u),c):b(u)?(n.consume(u),Q):P(u)}function c(u){return u===null||u===60||u===61||u===62||u===96?t(u):u===34||u===39?(n.consume(u),g=u,O):b(u)?(n.consume(u),c):R(u)}function O(u){return u===g?(n.consume(u),g=null,q):u===null||S(u)?t(u):(n.consume(u),O)}function R(u){return u===null||u===34||u===39||u===47||u===60||u===61||u===62||u===96||L(u)?Q(u):(n.consume(u),R)}function q(u){return u===47||u===62||b(u)?P(u):t(u)}function j(u){return u===62?(n.consume(u),V):t(u)}function V(u){return u===null||S(u)?I(u):b(u)?(n.consume(u),V):t(u)}function I(u){return u===45&&l===2?(n.consume(u),H):u===60&&l===1?(n.consume(u),D):u===62&&l===4?(n.consume(u),U):u===63&&l===3?(n.consume(u),i):u===93&&l===5?(n.consume(u),d):S(u)&&(l===6||l===7)?(n.exit("htmlFlowData"),n.check(st,un,_)(u)):u===null||S(u)?(n.exit("htmlFlowData"),_(u)):(n.consume(u),I)}function _(u){return n.check(xt,W,un)(u)}function W(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),z}function z(u){return u===null||S(u)?_(u):(n.enter("htmlFlowData"),I(u))}function H(u){return u===45?(n.consume(u),i):I(u)}function D(u){return u===47?(n.consume(u),a="",v):I(u)}function v(u){if(u===62){let Y=a.toLowerCase();return ln.includes(Y)?(n.consume(u),U):I(u)}return B(u)&&a.length<8?(n.consume(u),a+=String.fromCharCode(u),v):I(u)}function d(u){return u===93?(n.consume(u),i):I(u)}function i(u){return u===62?(n.consume(u),U):u===45&&l===2?(n.consume(u),i):I(u)}function U(u){return u===null||S(u)?(n.exit("htmlFlowData"),un(u)):(n.consume(u),U)}function un(u){return n.exit("htmlFlow"),e(u)}}function gt(n,e,t){let r=this;return l;function l(a){return S(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),o):t(a)}function o(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}function ct(n,e,t){return r;function r(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),n.attempt(G,e,t)}}var St={name:"htmlText",tokenize:ft};function ft(n,e,t){let r=this,l,o,a;return p;function p(i){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(i),g}function g(i){return i===33?(n.consume(i),x):i===47?(n.consume(i),Q):i===63?(n.consume(i),P):B(i)?(n.consume(i),R):t(i)}function x(i){return i===45?(n.consume(i),h):i===91?(n.consume(i),o=0,E):B(i)?(n.consume(i),F):t(i)}function h(i){return i===45?(n.consume(i),m):t(i)}function k(i){return i===null?t(i):i===45?(n.consume(i),s):S(i)?(a=k,D(i)):(n.consume(i),k)}function s(i){return i===45?(n.consume(i),m):k(i)}function m(i){return i===62?H(i):i===45?s(i):k(i)}function E(i){let U="CDATA[";return i===U.charCodeAt(o++)?(n.consume(i),o===U.length?w:E):t(i)}function w(i){return i===null?t(i):i===93?(n.consume(i),C):S(i)?(a=w,D(i)):(n.consume(i),w)}function C(i){return i===93?(n.consume(i),f):w(i)}function f(i){return i===62?H(i):i===93?(n.consume(i),f):w(i)}function F(i){return i===null||i===62?H(i):S(i)?(a=F,D(i)):(n.consume(i),F)}function P(i){return i===null?t(i):i===63?(n.consume(i),N):S(i)?(a=P,D(i)):(n.consume(i),P)}function N(i){return i===62?H(i):P(i)}function Q(i){return B(i)?(n.consume(i),c):t(i)}function c(i){return i===45||A(i)?(n.consume(i),c):O(i)}function O(i){return S(i)?(a=O,D(i)):b(i)?(n.consume(i),O):H(i)}function R(i){return i===45||A(i)?(n.consume(i),R):i===47||i===62||L(i)?q(i):t(i)}function q(i){return i===47?(n.consume(i),H):i===58||i===95||B(i)?(n.consume(i),j):S(i)?(a=q,D(i)):b(i)?(n.consume(i),q):H(i)}function j(i){return i===45||i===46||i===58||i===95||A(i)?(n.consume(i),j):V(i)}function V(i){return i===61?(n.consume(i),I):S(i)?(a=V,D(i)):b(i)?(n.consume(i),V):q(i)}function I(i){return i===null||i===60||i===61||i===62||i===96?t(i):i===34||i===39?(n.consume(i),l=i,_):S(i)?(a=I,D(i)):b(i)?(n.consume(i),I):(n.consume(i),W)}function _(i){return i===l?(n.consume(i),l=void 0,z):i===null?t(i):S(i)?(a=_,D(i)):(n.consume(i),_)}function W(i){return i===null||i===34||i===39||i===60||i===61||i===96?t(i):i===47||i===62||L(i)?q(i):(n.consume(i),W)}function z(i){return i===47||i===62||L(i)?q(i):t(i)}function H(i){return i===62?(n.consume(i),n.exit("htmlTextData"),n.exit("htmlText"),e):t(i)}function D(i){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),v}function v(i){return b(i)?y(n,d,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):d(i)}function d(i){return n.enter("htmlTextData"),a(i)}}var Z={name:"labelEnd",tokenize:Lt,resolveTo:wt,resolveAll:Et},bt={tokenize:It},yt={tokenize:Ct},zt={tokenize:At};function Et(n){let e=-1;for(;++e<n.length;){let t=n[e][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++)}return n}function wt(n,e){let t=n.length,r=0,l,o,a,p;for(;t--;)if(l=n[t][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;n[t][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=t,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(a=t);let g={type:n[o][1].type==="labelLink"?"link":"image",start:Object.assign({},n[o][1].start),end:Object.assign({},n[n.length-1][1].end)},x={type:"label",start:Object.assign({},n[o][1].start),end:Object.assign({},n[a][1].end)},h={type:"labelText",start:Object.assign({},n[o+r+2][1].end),end:Object.assign({},n[a-2][1].start)};return p=[["enter",g,e],["enter",x,e]],p=T(p,n.slice(o+1,o+r+3)),p=T(p,[["enter",h,e]]),p=T(p,nn(e.parser.constructs.insideSpan.null,n.slice(o+r+4,a-3),e)),p=T(p,[["exit",h,e],n[a-2],n[a-1],["exit",x,e]]),p=T(p,n.slice(a+1)),p=T(p,[["exit",g,e]]),M(n,o,n.length,p),n}function Lt(n,e,t){let r=this,l=r.events.length,o,a;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){o=r.events[l][1];break}return p;function p(s){return o?o._inactive?k(s):(a=r.parser.defined.includes(X(r.sliceSerialize({start:o.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(s),n.exit("labelMarker"),n.exit("labelEnd"),g):t(s)}function g(s){return s===40?n.attempt(bt,h,a?h:k)(s):s===91?n.attempt(yt,h,a?x:k)(s):a?h(s):k(s)}function x(s){return n.attempt(zt,h,k)(s)}function h(s){return e(s)}function k(s){return o._balanced=!0,t(s)}}function It(n,e,t){return r;function r(k){return n.enter("resource"),n.enter("resourceMarker"),n.consume(k),n.exit("resourceMarker"),l}function l(k){return L(k)?$(n,o)(k):o(k)}function o(k){return k===41?h(k):tn(n,a,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(k)}function a(k){return L(k)?$(n,g)(k):h(k)}function p(k){return t(k)}function g(k){return k===34||k===39||k===40?en(n,x,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(k):h(k)}function x(k){return L(k)?$(n,h)(k):h(k)}function h(k){return k===41?(n.enter("resourceMarker"),n.consume(k),n.exit("resourceMarker"),n.exit("resource"),e):t(k)}}function Ct(n,e,t){let r=this;return l;function l(p){return rn.call(r,n,o,a,"reference","referenceMarker","referenceString")(p)}function o(p){return r.parser.defined.includes(X(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(p):t(p)}function a(p){return t(p)}}function At(n,e,t){return r;function r(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),l}function l(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),e):t(o)}}var Ft={name:"labelStartImage",tokenize:Ot,resolveAll:Z.resolveAll};function Ot(n,e,t){let r=this;return l;function l(p){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(p),n.exit("labelImageMarker"),o}function o(p){return p===91?(n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelImage"),a):t(p)}function a(p){return p===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(p):e(p)}}var Bt={name:"labelStartLink",tokenize:Tt,resolveAll:Z.resolveAll};function Tt(n,e,t){let r=this;return l;function l(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}var Pt={name:"lineEnding",tokenize:Mt};function Mt(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),y(n,e,"linePrefix")}}var on={name:"thematicBreak",tokenize:qt};function qt(n,e,t){let r=0,l;return o;function o(x){return n.enter("thematicBreak"),a(x)}function a(x){return l=x,p(x)}function p(x){return x===l?(n.enter("thematicBreakSequence"),g(x)):r>=3&&(x===null||S(x))?(n.exit("thematicBreak"),e(x)):t(x)}function g(x){return x===l?(n.consume(x),r++,g):(n.exit("thematicBreakSequence"),b(x)?y(n,p,"whitespace")(x):p(x))}}var zn={name:"list",tokenize:Rt,continuation:{tokenize:Ht},exit:jt},Dt={tokenize:Vt,partial:!0},_t={tokenize:Nt,partial:!0};function Rt(n,e,t){let r=this,l=r.events[r.events.length-1],o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,a=0;return p;function p(m){let E=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:K(m)){if(r.containerState.type||(r.containerState.type=E,n.enter(E,{_container:!0})),E==="listUnordered")return n.enter("listItemPrefix"),m===42||m===45?n.check(on,t,x)(m):x(m);if(!r.interrupt||m===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),g(m)}return t(m)}function g(m){return K(m)&&++a<10?(n.consume(m),g):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(n.exit("listItemValue"),x(m)):t(m)}function x(m){return n.enter("listItemMarker"),n.consume(m),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,n.check(G,r.interrupt?t:h,n.attempt(Dt,s,k))}function h(m){return r.containerState.initialBlankLine=!0,o++,s(m)}function k(m){return b(m)?(n.enter("listItemPrefixWhitespace"),n.consume(m),n.exit("listItemPrefixWhitespace"),s):t(m)}function s(m){return r.containerState.size=o+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(m)}}function Ht(n,e,t){let r=this;return r.containerState._closeFlow=void 0,n.check(G,l,o);function l(p){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,y(n,e,"listItemIndent",r.containerState.size+1)(p)}function o(p){return r.containerState.furtherBlankLines||!b(p)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(p)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(_t,e,a)(p))}function a(p){return r.containerState._closeFlow=!0,r.interrupt=void 0,y(n,n.attempt(zn,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function Nt(n,e,t){let r=this;return y(n,l,"listItemIndent",r.containerState.size+1);function l(o){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):t(o)}}function jt(n){n.exit(this.containerState.type)}function Vt(n,e,t){let r=this;return y(n,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){let a=r.events[r.events.length-1];return!b(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}var Qt={name:"setextUnderline",tokenize:Ut,resolveTo:Wt};function Wt(n,e){let t=n.length,r,l,o;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(l=t)}else n[t][1].type==="content"&&n.splice(t,1),!o&&n[t][1].type==="definition"&&(o=t);let a={type:"setextHeading",start:Object.assign({},n[l][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[l][1].type="setextHeadingText",o?(n.splice(l,0,["enter",a,e]),n.splice(o+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[o][1].end)):n[r][1]=a,n.push(["exit",a,e]),n}function Ut(n,e,t){let r=this,l;return o;function o(x){let h=r.events.length,k;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){k=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||k)?(n.enter("setextHeadingLine"),l=x,a(x)):t(x)}function a(x){return n.enter("setextHeadingLineSequence"),p(x)}function p(x){return x===l?(n.consume(x),p):(n.exit("setextHeadingLineSequence"),b(x)?y(n,g,"lineSuffix")(x):g(x))}function g(x){return x===null||S(x)?(n.exit("setextHeadingLine"),e(x)):t(x)}}export{M as a,T as b,Gt as c,an as d,nn as e,Cn as f,On as g,y as h,G as i,Sn as j,qn as k,_n as l,Hn as m,Vn as n,Yn as o,bn as p,Xn as q,X as r,tt as s,ut as t,lt as u,pt as v,St as w,Z as x,Ft as y,Bt as z,Pt as A,on as B,zn as C,Qt as D};
