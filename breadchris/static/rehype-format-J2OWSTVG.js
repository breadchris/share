import"./chunk-RFBBAUMM.js";var d=function(e,t,r,n,i){let o=g(t);if(r!=null&&(typeof r!="number"||r<0||r===Number.POSITIVE_INFINITY))throw new Error("Expected positive finite `index`");if(n!=null&&(!n.type||!n.children))throw new Error("Expected valid `parent`");if(r==null!=(n==null))throw new Error("Expected both `index` and `parent`");return K(e)?o.call(i,e,r,n):!1},g=function(e){if(e==null)return Q;if(typeof e=="string")return J(e);if(typeof e=="object")return H(e);if(typeof e=="function")return I(e);throw new Error("Expected function, string, or array as `test`")};function H(e){let t=[],r=-1;for(;++r<e.length;)t[r]=g(e[r]);return I(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function J(e){return I(t);function t(r){return r.tagName===e}}function I(e){return t;function t(r,n,i){return!!(K(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Q(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function K(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}var w=g(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"});var Z={}.hasOwnProperty;function S(e,t){let r=e.type==="element"&&Z.call(e.properties,t)&&e.properties[t];return r!=null&&r!==!1}var ee=new Set(["pingback","prefetch","stylesheet"]);function P(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;let t=e.properties.rel,r=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++r<t.length;)if(!ee.has(String(t[r])))return!1;return!0}var te=g(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),re=g("meta");function B(e){return!!(e.type==="text"||te(e)||w(e)||P(e)||re(e)&&S(e,"itemProp"))}var ne=/[ \t\n\f\r]/g;function x(e){return typeof e=="object"?e.type==="text"?M(e.value):!1:M(e)}function M(e){return e.replace(ne,"")===""}var T=["pre","script","style","textarea"];var k=function(e){if(e==null)return fe;if(typeof e=="function")return E(e);if(typeof e=="object")return Array.isArray(e)?ie(e):oe(e);if(typeof e=="string")return ce(e);throw new Error("Expected function, string, or object as test")};function ie(e){let t=[],r=-1;for(;++r<e.length;)t[r]=k(e[r]);return E(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function oe(e){let t=e;return E(r);function r(n){let i=n,o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function ce(e){return E(t);function t(r){return r&&r.type===e}}function E(e){return t;function t(r,n,i){return!!(ae(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function fe(){return!0}function ae(e){return e!==null&&typeof e=="object"&&"type"in e}var R=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"];var q=["button","input","select","textarea"];var C=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"];var le={},F=k(["comment","doctype"]);function O(e,t){V(e,{collapse:de((t||le).newlines?he:ye),whitespace:"normal"})}function V(e,t){if("children"in e){let r={...t};return(e.type==="root"||_(e))&&(r.before=!0,r.after=!0),r.whitespace=ge(e,t),ue(e,r)}if(e.type==="text"){if(t.whitespace==="normal")return pe(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:F(e),stripAtStart:!1,remove:!1}}function pe(e,t){let r=t.collapse(e.value),n={ignore:!1,stripAtStart:!1,remove:!1},i=0,o=r.length;return t.before&&U(r.charAt(0))&&i++,i!==o&&U(r.charAt(o-1))&&(t.after?o--:n.stripAtStart=!0),i===o?n.remove=!0:e.value=r.slice(i,o),n}function ue(e,t){let r=t.before,n=t.after,i=e.children,o=i.length,c=-1;for(;++c<o;){let a=V(i[c],{...t,after:X(i,c,n),before:r});a.remove?(i.splice(c,1),c--,o--):a.ignore||(r=a.stripAtStart),Y(i[c])&&(r=!1)}return{ignore:!1,stripAtStart:!!(r||n),remove:!1}}function X(e,t,r){for(;++t<e.length;){let n=e[t],i=se(n);if(i===void 0&&"children"in n&&!me(n)&&(i=X(n.children,-1)),typeof i=="boolean")return i}return r}function se(e){if(e.type==="element"){if(Y(e))return!1;if(_(e))return!0}else if(e.type==="text"){if(!x(e))return!1}else if(!F(e))return!1}function Y(e){return w(e)||d(e,q)}function _(e){return d(e,R)}function me(e){return!!(e.type==="element"&&e.properties.hidden)||F(e)||d(e,C)}function U(e){return e===" "||e===`
`}function he(e){let t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function ye(){return" "}function de(e){return t;function t(r){return String(r).replace(/[\t\n\v\f\r ]+/g,e)}}function ge(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap";default:}return t.whitespace}function v(e){return function(t){O(t,e)}}var $=[],z=!0,j=!1,A="skip";function W(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;let o=k(i),c=n?-1:1;a(e,void 0,[])();function a(f,y,p){let l=f&&typeof f=="object"?f:{};if(typeof l.type=="string"){let u=typeof l.tagName=="string"?l.tagName:typeof l.name=="string"?l.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(u?"<"+u+">":""))+")"})}return b;function b(){let u=$,s,m,h;if((!t||o(f,y,p[p.length-1]||void 0))&&(u=be(r(f,p)),u[0]===j))return u;if("children"in f&&f.children){let N=f;if(N.children&&u[0]!==A)for(m=(n?N.children.length:-1)+c,h=p.concat(N);m>-1&&m<N.children.length;){let G=N.children[m];if(s=a(G,m,h)(),s[0]===j)return s;m=typeof s[1]=="number"?s[1]:m+c}}return u}}}function be(e){return Array.isArray(e)?e:typeof e=="number"?[z,e]:e==null?$:[e]}var we={},xe=v({newlines:!0});function D(e){let t=e||we,r=t.indent||2,n=t.indentInitial;return typeof r=="number"&&(r=" ".repeat(r)),n==null&&(n=!0),function(c){let a;xe(c),W(c,function(f,y){let p=-1;if(!("children"in f))return;if(d(f,"head")&&(a=!0),a&&d(f,"body")&&(a=void 0),d(f,T))return A;let l=f.children,b=y.length;if(l.length===0||!L(f,a))return;n||b--;let u;for(;++p<l.length;){let h=l[p];(h.type==="text"||h.type==="comment")&&(h.value.includes(`
`)&&(u=!0),h.value=h.value.replace(/ *\n/g,"$&"+String(r).repeat(b)))}let s=[],m;for(p=-1;++p<l.length;){let h=l[p];(L(h,a)||u&&!p)&&(i(s,b,h),u=!0),m=h,s.push(h)}m&&(u||L(m,a))&&(x(m)&&(s.pop(),m=s[s.length-1]),i(s,b-1)),f.children=s})};function i(c,a,f){let y=c[c.length-1],p=y&&x(y)?c[c.length-2]:y,l=(o(p)&&o(f)?`

`:`
`)+String(r).repeat(Math.max(a,0));y&&y.type==="text"?y.value=x(y)?l:y.value+l:c.push({type:"text",value:l})}function o(c){return!!(c&&c.type==="element"&&t.blanks&&t.blanks.length>0&&t.blanks.includes(c.tagName))}}function L(e,t){return e.type==="root"||(e.type==="element"?t||d(e,"script")||w(e)||!B(e):!1)}export{D as default};
