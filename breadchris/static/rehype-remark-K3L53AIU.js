import{a as tt}from"./chunk-JNNCW7C5.js";import{a as ae}from"./chunk-6Y6CNENK.js";import{a as fe}from"./chunk-DIB5H6RO.js";import{a as pe,b as ce,c as S}from"./chunk-V6NBTGC2.js";import{c as et}from"./chunk-RFBBAUMM.js";var A=function(e,t,r,n,i){let o=u(t);if(r!=null&&(typeof r!="number"||r<0||r===Number.POSITIVE_INFINITY))throw new Error("Expected positive finite index for child node");if(n!=null&&(!n.type||!n.children))throw new Error("Expected parent node");if(!e||!e.type||typeof e.type!="string")return!1;if(n==null!=(r==null))throw new Error("Expected both parent and index");return o.call(i,e,r,n)},u=function(e){if(e==null)return K;if(typeof e=="string")return nt(e);if(typeof e=="object")return rt(e);if(typeof e=="function")return ue(e);throw new Error("Expected function, string, or array as test")};function rt(e){let t=[],r=-1;for(;++r<e.length;)t[r]=u(e[r]);return ue(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function nt(e){return t;function t(r){return K(r)&&r.tagName===e}}function ue(e){return t;function t(r,...n){return K(r)&&!!e.call(this,r,...n)}}function K(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}var O=u(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]);var B=function(e){if(e==null)return st;if(typeof e=="string")return lt(e);if(typeof e=="object")return Array.isArray(e)?it(e):ot(e);if(typeof e=="function")return R(e);throw new Error("Expected function, string, or object as test")};function it(e){let t=[],r=-1;for(;++r<e.length;)t[r]=B(e[r]);return R(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function ot(e){return R(t);function t(r){let n;for(n in e)if(r[n]!==e[n])return!1;return!0}}function lt(e){return R(t);function t(r){return r&&r.type===e}}function R(e){return t;function t(r,...n){return!!(r&&typeof r=="object"&&"type"in r&&e.call(this,r,...n))}}function st(){return!0}function me(e){let t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}var he=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"];var de=["button","input","select","textarea"];var ge=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"];var X=B(["doctype","comment"]);function G(e={}){let t=ht(e.newlines?ut:mt);return r=>{we(r,{collapse:t,whitespace:"normal"})}}function we(e,t){if("children"in e){let r=Object.assign({},t);return(e.type==="root"||ke(e))&&(r.before=!0,r.after=!0),r.whitespace=dt(e,t),ct(e,r)}if(e.type==="text"){if(t.whitespace==="normal")return pt(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{remove:!1,ignore:X(e),stripAtStart:!1}}function pt(e,t){let r=t.collapse(e.value),n={remove:!1,ignore:!1,stripAtStart:!1},i=0,o=r.length;return t.before&&ye(r.charAt(0))&&i++,i!==o&&ye(r.charAt(o-1))&&(t.after?o--:n.stripAtStart=!0),i===o?n.remove=!0:e.value=r.slice(i,o),n}function ct(e,t){let r=t.before,n=t.after,i=e.children,o=i.length,l=-1;for(;++l<o;){let s=we(i[l],Object.assign({},t,{before:r,after:xe(i,l,n)}));s.remove?(i.splice(l,1),l--,o--):s.ignore||(r=s.stripAtStart),be(i[l])&&(r=!1)}return{remove:!1,ignore:!1,stripAtStart:!!(r||n)}}function xe(e,t,r){for(;++t<e.length;){let n=e[t],i=at(n);if(i===void 0&&"children"in n&&!ft(n)&&(i=xe(n.children,-1)),typeof i=="boolean")return i}return r}function at(e){if(e.type==="element"){if(be(e))return!1;if(ke(e))return!0}else if(e.type==="text"){if(!me(e))return!1}else if(!X(e))return!1}function be(e){return O(e)||A(e,de)}function ke(e){return A(e,he)}function ft(e){return!!("properties"in e&&e.properties&&e.properties.hidden)||X(e)||A(e,ge)}function ye(e){return e===" "||e===`
`}function ut(e){let t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function mt(){return" "}function ht(e){return t;function t(r){return String(r).replace(/[\t\n\v\f\r ]+/g,e)}}function dt(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap";default:}return t.whitespace}function p(e,t){let r=t.children||[],n=[],i=-1;for(;++i<r.length;){let s=E(e,r[i],t);Array.isArray(s)?n.push(...s):s&&n.push(s)}let o=0,l=n.length;for(;o<l&&n[o].type==="break";)o++;for(;l>o&&n[l-1].type==="break";)l--;return o===0&&l===n.length?n:n.slice(o,l)}var I={}.hasOwnProperty;function m(e,t){return e.wrapText?t:t.replace(/\r?\n|\r/g," ")}function E(e,t,r){let n;if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;I.call(e.handlers,t.tagName)&&(n=e.handlers[t.tagName])}else I.call(e.handlers,t.type)&&(n=e.handlers[t.type]);return typeof n=="function"?n(e,t,r):gt(e,t)}function gt(e,t){return typeof t.value=="string"?e(t,"text",m(e,t.value)):p(e,t)}var Q=et(tt(),1);var yt={}.hasOwnProperty;function x(e,t){let r=typeof t=="string"&&wt(e)&&e.type==="element"&&e.properties&&yt.call(e.properties,t)&&e.properties[t];return r!=null&&r!==!1}function wt(e){return!!(e&&typeof e=="object"&&"type"in e)}var xt=new Set(["pingback","prefetch","stylesheet"]);function ve(e){if(!A(e,"link"))return!1;if(x(e,"itemProp"))return!0;let r=(e.properties||{}).rel||[],n=-1;if(!Array.isArray(r)||r.length===0)return!1;for(;++n<r.length;)if(!xt.has(String(r[n])))return!1;return!0}var bt=u(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),kt=u("meta");function J(e){return!!(vt(e)&&(e.type==="text"||bt(e)||O(e)||ve(e)||kt(e)&&x(e,"itemProp")))}function vt(e){return e&&typeof e=="object"&&"type"in e}function M(e){return Se(e,t);function t(r){let n=r[0];return r.length===1&&n.type==="text"&&(n.value===" "||n.value===`
`)?[]:{type:"paragraph",children:r}}}function C(e){let t=-1,r;for(;++t<e.length;)if(r=e[t],!Ee(r)||"children"in r&&C(r.children))return!0;return!1}function Se(e,t,r){let n=r||It,i=St(e),o=[],l=-1,s,c;for(;++l<i.length;)c=i[l],Ee(c)?(s||(s=[]),s.push(c)):(s&&(o=o.concat(t(s)),s=void 0),o=o.concat(n(c)));return s&&(o=o.concat(t(s))),o}function St(e){let t=[],r=-1,n;for(;++r<e.length;)n=e[r],(n.type==="delete"||n.type==="link")&&C(n.children)?t=t.concat(Et(n)):t.push(n);return t}function Et(e){return Se(e.children,r,t);function t(n){if("children"in n&&"children"in e){let{children:i,...o}=e;return{...n,children:[{...(0,Q.default)(!0,{},o),children:n.children}]}}return{...n}}function r(n){let{children:i,...o}=e;return{...(0,Q.default)(!0,{},o),children:n}}}function Ee(e){return e.data&&e.data.hName?J({type:"element",tagName:e.data.hName,properties:{},children:[]}):ae(e)}function It(e){return e}function h(e,t){return M(p(e,t))}function g(e,t){return t==null?"":e.frozenBaseUrl?String(new URL(t,e.frozenBaseUrl)):t}function Ie(e,t){let r=t.properties;return e(t,"link",{title:r.title||null,url:g(e,String(r.href||"")||null)},p(e,t))}function Ne(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||null,e.baseFound=!0)}function Te(e,t){return e(t,"blockquote",h(e,t))}function Ae(e,t){return e.wrapText?e(t,"break"):e(t,"text"," ")}var k=function(e){if(e==null)return Z;if(typeof e=="string")return Tt(e);if(typeof e=="object")return Nt(e);if(typeof e=="function")return Be(e);throw new Error("Expected function, string, or array as test")};function Nt(e){let t=[],r=-1;for(;++r<e.length;)t[r]=k(e[r]);return Be(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function Tt(e){return t;function t(r){return Z(r)&&r.tagName===e}}function Be(e){return t;function t(r,...n){return Z(r)&&!!e.call(this,r,...n)}}function Z(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}var U=function(e){if(e==null)return Ft;if(typeof e=="string")return Ct(e);if(typeof e=="object")return Array.isArray(e)?At(e):Bt(e);if(typeof e=="function")return W(e);throw new Error("Expected function, string, or object as test")};function At(e){let t=[],r=-1;for(;++r<e.length;)t[r]=U(e[r]);return W(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function Bt(e){return W(t);function t(r){let n;for(n in e)if(r[n]!==e[n])return!1;return!0}}function Ct(e){return W(t);function t(r){return r&&r.type===e}}function W(e){return t;function t(r,...n){return!!(r&&typeof r=="object"&&"type"in r&&e.call(this,r,...n))}}function Ft(){return!0}var z=function(e,t,r){let n=U(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t];return null};var Ce=/\n/g,Fe=/[\t ]+/g,ee=k("br"),jt=k("p"),je=k(["th","td"]),Oe=k("tr"),Ot=k(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Rt,Mt]),qe=k(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function y(e,t={}){let r="children"in e?e.children:[],n=qe(e),i=Re(e,{whitespace:t.whitespace||"normal",breakBefore:!1,breakAfter:!1}),o=[];(e.type==="text"||e.type==="comment")&&o.push(...Le(e,{whitespace:i,breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<r.length;)o.push(...Pe(r[l],e,{whitespace:i,breakBefore:l?void 0:n,breakAfter:l<r.length-1?ee(r[l+1]):n}));let s=[],c;for(l=-1;++l<o.length;){let a=o[l];typeof a=="number"?c!==void 0&&a>c&&(c=a):a&&(c!==void 0&&c>-1&&s.push(`
`.repeat(c)||" "),c=-1,s.push(a))}return s.join("")}function Pe(e,t,r){return e.type==="element"?qt(e,t,r):e.type==="text"?r.whitespace==="normal"?Le(e,r):Pt(e):[]}function qt(e,t,r){let n=Re(e,r),i=e.children||[],o=-1,l=[];if(Ot(e))return l;let s,c;for(ee(e)||Oe(e)&&z(t,e,Oe)?c=`
`:jt(e)?(s=2,c=2):qe(e)&&(s=1,c=1);++o<i.length;)l=l.concat(Pe(i[o],e,{whitespace:n,breakBefore:o?void 0:s,breakAfter:o<i.length-1?ee(i[o+1]):c}));return je(e)&&z(t,e,je)&&l.push("	"),s&&l.unshift(s),c&&l.push(c),l}function Le(e,t){let r=String(e.value),n=[],i=[],o=0;for(;o<=r.length;){Ce.lastIndex=o;let c=Ce.exec(r),a=c&&"index"in c?c.index:r.length;n.push(Lt(r.slice(o,a).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?t.breakBefore:!0,a===r.length?t.breakAfter:!0)),o=a+1}let l=-1,s;for(;++l<n.length;)n[l].charCodeAt(n[l].length-1)===8203||l<n.length-1&&n[l+1].charCodeAt(0)===8203?(i.push(n[l]),s=void 0):n[l]?(typeof s=="number"&&i.push(s),i.push(n[l]),s=0):(l===0||l===n.length-1)&&i.push(0);return i}function Pt(e){return[String(e.value)]}function Lt(e,t,r){let n=[],i=0,o;for(;i<e.length;){Fe.lastIndex=i;let l=Fe.exec(e);o=l?l.index:e.length,!i&&!o&&l&&!t&&n.push(""),i!==o&&n.push(e.slice(i,o)),i=l?o+l[0].length:o}return i!==o&&!r&&n.push(""),n.join(" ")}function Re(e,t){if(e.type==="element"){let r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap";default:}}return t.whitespace}function Rt(e){return!!(e.properties||{}).hidden}function Mt(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function Me(e){let t=String(e),r=t.length;for(;r>0;){let n=t.codePointAt(r-1);if(n!==void 0&&(n===10||n===13))r--;else break}return t.slice(0,r)}var te="language-",Ut=u("pre"),Wt=u("code");function q(e,t){let r=t.children,n=-1,i,o;if(Ut(t))for(;++n<r.length;){let l=r[n];if(Wt(l)&&l.properties&&l.properties.className&&Array.isArray(l.properties.className)){i=l.properties.className;break}}if(i){for(n=-1;++n<i.length;)if(String(i[n]).slice(0,te.length)===te){o=String(i[n]).slice(te.length);break}}return e(t,"code",{lang:o||null,meta:null},Me(m(e,y(t))))}function Ue(e,t){return e(t,"html","<!--"+m(e,t.value)+"-->")}function V(e,t){return e(t,"delete",p(e,t))}function P(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function Y(e,t){let r=p(e,t),n=-1;for(;++n<r.length;){let i=r[n];i.type!=="listItem"&&(r[n]={type:"listItem",spread:!1,checked:null,children:[i]})}return r}var zt=u("div"),Vt=u("dt"),Yt=u("dd");function ze(e,t){let r=t.children,n=-1,i=[],o=[],l={titles:[],definitions:[]},s,c;for(;++n<r.length;)s=r[n],i=i.concat(zt(s)?s.children:s);for(n=-1;++n<i.length;)s=i[n],Vt(s)?(Yt(i[n-1])&&(o.push(l),l={titles:[],definitions:[]}),l.titles.push(s)):l.definitions.push(s);o.push(l),n=-1;let a=[];for(;++n<o.length;)c=[...We(e,o[n].titles),...We(e,o[n].definitions)],c.length>0&&a.push({type:"listItem",spread:c.length>1,checked:null,children:c});if(a.length>0)return e(t,"list",{ordered:!1,start:null,spread:P(a)},a)}function We(e,t){let r=Y(e,{type:"element",tagName:"x",children:t});return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:P(r),children:r}]}function L(e,t){return e(t,"emphasis",p(e,t))}function N(e,t){let r=Number(t.tagName.charAt(1))||1,n=e.wrapText;e.wrapText=!1;let i=e(t,"heading",{depth:r},p(e,t));return e.wrapText=n,i}function Ve(e,t){return e(t,"thematicBreak")}function Ye(e,t){let r=t.properties,n=String(r.src||""),i=String(r.title||"");if(n&&i)return{type:"link",title:null,url:g(e,n),children:[{type:"text",value:m(e,i)}]}}function re(e,t){let r=t.properties;return e(t,"image",{url:g(e,String(r.src||"")||null),title:r.title||null,alt:r.alt||""})}function F(e,t){return e(t,"inlineCode",m(e,y(t)))}var _t=u("option");function _(e,t,r){let n=r||t.properties,i=_e(t),o=Math.min(Number.parseInt(String(n.size),10),0)||(n.multiple?4:1),l=-1,s=[],c=[];for(;++l<i.length;)x(i[l],"selected")&&s.push(i[l]);for(i=(s.length>0?s:i).slice(0,o),l=-1;++l<i.length;){let d=i[l],b=m(e,y(d)),w=d.properties,v=b||String(w.label||""),T=String(w.value||"")||b;c.push([T,v===T?null:v])}return c}function _e(e){let t=e.children,r=-1,n=[],i;for(;++r<t.length;)i=t[r],Array.isArray(i.children)&&(n=n.concat(_e(i))),_t(i)&&!x(i,"disabled")&&n.push(i);return n}var Ht=u("datalist");function He(e,t){let r=t.properties,n=String(r.value||r.placeholder||""),i=[],o=[],l=[],s=-1,c;if(!(r.disabled||r.type==="hidden"||r.type==="file")){if(r.type==="checkbox"||r.type==="radio")return e(t,"text",m(e,e[r.checked?"checked":"unchecked"]));if(r.type==="image")return r.alt||n?e(t,"image",{url:g(e,String(r.src||"")||null),title:m(e,String(r.title||""))||null,alt:m(e,String(r.alt||n))}):[];if(n?l=[[n,null]]:r.type!=="password"&&r.type!=="file"&&r.type!=="submit"&&r.type!=="reset"&&r.type!=="button"&&r.list&&(c=String(r.list).toUpperCase(),I.call(e.nodeById,c)&&Ht(e.nodeById[c])&&(l=_(e,e.nodeById[c],r))),l.length!==0){if(r.type==="password"&&(l[0]=["\u2022".repeat(l[0][0].length),null]),r.type==="url"||r.type==="email"){for(;++s<l.length;)n=g(e,l[s][0]),i.push(e(t,"link",{title:null,url:m(e,r.type==="email"?"mailto:"+n:n)},[{type:"text",value:m(e,l[s][1]||n)}])),s!==l.length-1&&i.push({type:"text",value:", "});return i}for(;++s<l.length;)o.push(l[s][1]?l[s][1]+" ("+l[s][0]+")":l[s][0]);return e(t,"text",m(e,o.join(", ")))}}}var $t=u("p"),Dt=u("input");function H(e,t){let r=t.children[0],n=null,i,o;$t(r)&&(i=r.children[0],Dt(i)&&i.properties&&(i.properties.type==="checkbox"||i.properties.type==="radio")&&(n=!!i.properties.checked,o={...t,children:[{...r,children:r.children.slice(1)},...t.children.slice(1)]}));let l=h(e,o||t);return e(t,"listItem",{spread:l.length>1,checked:n},l)}var Kt=u("ol");function $(e,t){let r=Kt(t),n=Y(e,t),i=null;return r&&(i=x(t,"start")?Number.parseInt(String(t.properties.start),10):1),e(t,"list",{ordered:r,start:i,spread:P(n)},n)}var Xt=u("source"),Gt=u("video");function ne(e,t){let r=p(e,t),n=t.properties,i=Gt(t)&&String(n.poster||""),o=String(n.src||""),l=-1,s=!1,c;if(S({type:"root",children:r},"link",a),s||C(r))return r;for(;!o&&++l<t.children.length;)c=t.children[l],Xt(c)&&(o=String(c.properties.src||""));return i&&(r=[{type:"image",title:null,url:g(e,i),alt:fe({children:r})}]),{type:"link",title:t.properties.title||null,url:g(e,o),children:r};function a(){return s=!0,pe}}function ie(e,t){let r=p(e,t);if(r.length>0)return e(t,"paragraph",r)}function $e(e,t){let r=e.quotes[e.qNesting%e.quotes.length];e.qNesting++;let n=p(e,t);return e.qNesting--,n.unshift({type:"text",value:r.charAt(0)}),n.push({type:"text",value:r.length>1?r.charAt(1):r}),n}function De(e,t){let r=p(e,t);return(e.document||C(r))&&(r=M(r)),e(t,"root",r)}function Ke(e,t){let r=_(e,t),n=-1,i=[],o;for(;++n<r.length;)o=r[n],i.push(o[1]?o[1]+" ("+o[0]+")":o[0]);if(i.length>0)return e(t,"text",m(e,i.join(", ")))}function oe(e,t){return e(t,"strong",p(e,t))}function le(e,t){let r=e.wrapText;e.wrapText=!1;let n=e(t,"tableCell",p(e,t));if(t.properties&&(t.properties.rowSpan||t.properties.colSpan)){let i=n.data||(n.data={});t.properties.rowSpan&&(i.rowSpan=t.properties.rowSpan),t.properties.colSpan&&(i.colSpan=t.properties.colSpan)}return e.wrapText=r,n}function Xe(e,t){return e(t,"tableRow",p(e,t))}var Jt=u("thead"),Qt=u("tr"),Zt=u(["th","td"]);function Ge(e,t){if(e.inTable)return e(t,"text",m(e,y(t)));e.inTable=!0;let{headless:r,align:n}=er(t),i=tr(p(e,t),r),o=1,l=-1;for(;++l<i.length;){let c=i[l].children,a=-1;for(;++a<c.length;){let d=c[a];if(d.data){let b=Number.parseInt(String(d.data.colSpan),10)||1,w=Number.parseInt(String(d.data.rowSpan),10)||1;if(b>1||w>1){let v=l-1;for(;++v<l+w;){let T=a-1;for(;++T<a+b&&i[v];){let se=[];(v!==l||T!==a)&&se.push({type:"tableCell",children:[]}),i[v].children.splice(T,0,...se)}}}"colSpan"in d.data&&delete d.data.colSpan,"rowSpan"in d.data&&delete d.data.rowSpan,Object.keys(d.data).length===0&&delete d.data}}c.length>o&&(o=c.length)}for(l=-1;++l<i.length;){let c=i[l].children,a=c.length-1;for(;++a<o;)c.push({type:"tableCell",children:[]})}let s=n.length-1;for(;++s<o;)n.push(null);return e.inTable=!1,e(t,"table",{align:n},i)}function er(e){let t=!0,r=0,n=0,i=[null];return S(e,"element",o=>{if(o.tagName==="table"&&e!==o)return ce;Zt(o)&&o.properties?(i[n]||(i[n]=String(o.properties.align||"")||null),t&&r<2&&o.tagName==="th"&&(t=!1),n++):Jt(o)?t=!1:Qt(o)&&(r++,n=0)}),{align:i,headless:t}}function tr(e,t){let r=-1,n=[],i;for(t&&n.push({type:"tableRow",children:[]});++r<e.length;){let o=e[r];o.type==="tableRow"?(i&&(o.children.unshift(...i),i=void 0),n.push(o)):(i||(i=[]),i.push(o))}for(i&&n[n.length-1].children.push(...i),r=-1;++r<n.length;)n[r].children=rr(n[r].children);return n}function rr(e){let t=[],r=-1,n,i;for(;++r<e.length;)n=e[r],n.type==="tableCell"?(i&&(n.children.unshift(...i),i=void 0),t.push(n)):(i||(i=[]),i.push(n));return i&&(n=t[t.length-1],n||(n={type:"tableCell",children:[]},t.push(n)),n.children.push(...i)),t}function Je(e,t){return e(t,"text",m(e,t.value))}function Qe(e,t){return e(t,"text",m(e,y(t)))}function Ze(e,t){return e(t,"text","\u200B")}var j={root:De,text:Je,comment:Ue,doctype:f,applet:f,area:f,basefont:f,bgsound:f,caption:f,col:f,colgroup:f,command:f,content:f,datalist:f,dialog:f,element:f,embed:f,frame:f,frameset:f,isindex:f,keygen:f,link:f,math:f,menu:f,menuitem:f,meta:f,nextid:f,noembed:f,noframes:f,optgroup:f,option:f,param:f,script:f,shadow:f,source:f,spacer:f,style:f,svg:f,template:f,title:f,track:f,abbr:p,acronym:p,bdi:p,bdo:p,big:p,blink:p,button:p,canvas:p,cite:p,data:p,details:p,dfn:p,font:p,ins:p,label:p,map:p,marquee:p,meter:p,nobr:p,noscript:p,object:p,output:p,progress:p,rb:p,rbc:p,rp:p,rt:p,rtc:p,ruby:p,slot:p,small:p,span:p,sup:p,sub:p,tbody:p,tfoot:p,thead:p,time:p,address:h,article:h,aside:h,body:h,center:h,div:h,fieldset:h,figcaption:h,figure:h,form:h,footer:h,header:h,hgroup:h,html:h,legend:h,main:h,multicol:h,nav:h,picture:h,section:h,a:Ie,audio:ne,b:oe,base:Ne,blockquote:Te,br:Ae,code:F,dir:$,dl:ze,dt:H,dd:H,del:V,em:L,h1:N,h2:N,h3:N,h4:N,h5:N,h6:N,hr:Ve,i:L,iframe:Ye,img:re,image:re,input:He,kbd:F,li:H,listing:q,mark:L,ol:$,p:ie,plaintext:q,pre:q,q:$e,s:V,samp:F,select:Ke,strike:V,strong:oe,summary:ie,table:Ge,td:le,textarea:Qe,th:le,tr:Xe,tt:F,u:L,ul:$,var:F,video:ne,wbr:Ze,xmp:q};function f(){}var nr=B(["heading","paragraph","root"]);function D(e,t={}){let r={},n,i=Object.assign((s,c,a,d)=>{let b;typeof a=="string"||Array.isArray(a)?(d=a,b={}):b=a;let w={type:c,...b};return typeof d=="string"?w.value=d:d&&(w.children=d),s.position&&(w.position=s.position),w},{nodeById:r,baseFound:!1,inTable:!1,wrapText:!0,frozenBaseUrl:null,qNesting:0,handlers:t.handlers?{...j,...t.handlers}:j,document:t.document,checked:t.checked||"[x]",unchecked:t.unchecked||"[ ]",quotes:t.quotes||['"']});S(e,"element",s=>{let c=s.properties&&"id"in s.properties&&String(s.properties.id).toUpperCase();c&&!I.call(r,c)&&(r[c]=s)}),G({newlines:t.newlines===!0})(e);let o=E(i,e,void 0);return o?Array.isArray(o)?n={type:"root",children:o}:n=o:n={type:"root",children:[]},S(n,"text",l),n;function l(s,c,a){if(c===null||!a)return;let d=a.children[c-1];if(d&&d.type===s.type)return d.value+=s.value,a.children.splice(c,1),d.position&&s.position&&(d.position.end=s.position.end),c-1;if(s.value=s.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),a&&nr(a)&&(c||(s.value=s.value.replace(/^[\t ]+/,"")),c===a.children.length-1&&(s.value=s.value.replace(/[\t ]+$/,""))),!s.value)return a.children.splice(c,1),c}}var ir=function(e,t){let r,n;return typeof e=="function"?(n=e,r=t||{}):r=e||{},(r.document===void 0||r.document===null)&&(r=Object.assign({},r,{document:!0})),n?lr(n,r):sr(r)},or=ir;function lr(e,t){return(r,n,i)=>{e.run(D(r,t),n,o=>{i(o)})}}function sr(e={}){return t=>D(t,e)}export{p as all,or as default,j as defaultHandlers,E as one};
