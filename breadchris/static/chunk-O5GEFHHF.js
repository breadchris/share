import{c as g}from"./chunk-54SQGEM3.js";function L(t){return t.label||!t.identifier?t.label||"":g(t.identifier)}function E(t,e,o){let n=e.indexStack,l=t.children||[],r=e.createTracker(o),i=[],c=-1;for(n.push(-1);++c<l.length;){let u=l[c];n[n.length-1]=c,i.push(r.move(e.handle(u,t,e,{before:`
`,after:`
`,...r.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),c<l.length-1&&i.push(r.move(S(u,l[c+1],t,e)))}return n.pop(),i.join("")}function S(t,e,o,n){let l=n.join.length;for(;l--;){let r=n.join[l](t,e,o,n);if(r===!0||r===1)break;if(typeof r=="number")return`
`.repeat(1+r);if(r===!1)return`

<!---->

`}return`

`}var y=/\r?\n|\r/g;function _(t,e){let o=[],n=0,l=0,r;for(;r=y.exec(t);)i(t.slice(n,r.index)),o.push(r[0]),n=r.index+r[0].length,l++;return i(t.slice(n)),o.join("");function i(c){o.push(e(c,l,!c))}}function m(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function w(t,e){return b(t,e.inConstruct,!0)&&!b(t,e.notInConstruct,!1)}function b(t,e,o){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return o;let n=-1;for(;++n<e.length;)if(t.includes(e[n]))return!0;return!1}function U(t,e,o){let n=(o.before||"")+(e||"")+(o.after||""),l=[],r=[],i={},c=-1;for(;++c<t.unsafe.length;){let s=t.unsafe[c];if(!w(t.stack,s))continue;let h=m(s),p;for(;p=h.exec(n);){let d="before"in s||!!s.atBreak,x="after"in s,a=p.index+(d?p[1].length:0);l.includes(a)?(i[a].before&&!d&&(i[a].before=!1),i[a].after&&!x&&(i[a].after=!1)):(l.push(a),i[a]={before:d,after:x})}}l.sort(j);let u=o.before?o.before.length:0,f=n.length-(o.after?o.after.length:0);for(c=-1;++c<l.length;){let s=l[c];s<u||s>=f||s+1<f&&l[c+1]===s+1&&i[s].after&&!i[s+1].before&&!i[s+1].after||l[c-1]===s-1&&i[s].before&&!i[s-1].before&&!i[s-1].after||(u!==s&&r.push(k(n.slice(u,s),"\\")),u=s,/[!-/:-@[-`{-~]/.test(n.charAt(s))&&(!o.encode||!o.encode.includes(n.charAt(s)))?r.push("\\"):(r.push("&#x"+n.charCodeAt(s).toString(16).toUpperCase()+";"),u++))}return r.push(k(n.slice(u,f),o.after)),r.join("")}function j(t,e){return t-e}function k(t,e){let o=/\\(?=[!-/:-@[-`{-~])/g,n=[],l=[],r=t+e,i=-1,c=0,u;for(;u=o.exec(r);)n.push(u.index);for(;++i<n.length;)c!==n[i]&&l.push(t.slice(c,n[i])),l.push("\\"),c=n[i];return l.push(t.slice(c)),l.join("")}function O(t){let e=t||{},o=e.now||{},n=e.lineShift||0,l=o.line||1,r=o.column||1;return{move:u,current:i,shift:c};function i(){return{now:{line:l,column:r},lineShift:n}}function c(f){n+=f}function u(f){let s=f||"",h=s.split(/\r?\n|\r/g),p=h[h.length-1];return l+=h.length-1,r=h.length===1?r+p.length:1+p.length+n,s}}function G(t,e,o){let n=e.indexStack,l=t.children||[],r=[],i=-1,c=o.before;n.push(-1);let u=e.createTracker(o);for(;++i<l.length;){let f=l[i],s;if(n[n.length-1]=i,i+1<l.length){let h=e.handle.handlers[l[i+1].type];h&&h.peek&&(h=h.peek),s=h?h(l[i+1],t,e,{before:"",after:"",...u.current()}).charAt(0):""}else s=o.after;r.length>0&&(c==="\r"||c===`
`)&&f.type==="html"&&(r[r.length-1]=r[r.length-1].replace(/(\r?\n|\r)$/," "),c=" ",u=e.createTracker(o),u.move(r.join(""))),r.push(u.move(e.handle(f,t,e,{...u.current(),before:c,after:s}))),c=r[r.length-1].slice(-1)}return n.pop(),r.join("")}B.peek=v;function B(t,e,o){let n=t.value||"",l="`",r=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(n);)l+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++r<o.unsafe.length;){let i=o.unsafe[r],c=m(i),u;if(i.atBreak)for(;u=c.exec(n);){let f=u.index;n.charCodeAt(f)===10&&n.charCodeAt(f-1)===13&&f--,n=n.slice(0,f)+" "+n.slice(u.index+1)}}return l+n+l}function v(){return"`"}function I(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function C(t){let e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function X(t,e,o,n){let l=C(o),r=o.bulletCurrent||I(o);e&&e.type==="list"&&e.ordered&&(r=(typeof e.start=="number"&&e.start>-1?e.start:1)+(o.options.incrementListMarker===!1?0:e.children.indexOf(t))+r);let i=r.length+1;(l==="tab"||l==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(i=Math.ceil(i/4)*4);let c=o.createTracker(n);c.move(r+" ".repeat(i-r.length)),c.shift(i);let u=o.enter("listItem"),f=o.indentLines(o.containerFlow(t,c.current()),s);return u(),f;function s(h,p,d){return p?(d?"":" ".repeat(i))+h:(d?r:r+" ".repeat(i-r.length))+h}}export{L as a,E as b,_ as c,w as d,U as e,O as f,G as g,B as h,I as i,X as j};
